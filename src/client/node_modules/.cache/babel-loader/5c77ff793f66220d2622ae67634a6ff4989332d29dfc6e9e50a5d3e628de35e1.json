{"ast":null,"code":"import { APIService } from '@ohrm/core/util/services/api.service';\nimport { OxdDialog } from '@ohrm/oxd';\nexport default {\n  name: 'EntitlementUpdateModal',\n  components: {\n    'oxd-dialog': OxdDialog\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true\n    }\n  },\n  setup() {\n    const http = new APIService(window.appGlobal.baseUrl, '');\n    return {\n      http\n    };\n  },\n  data() {\n    return {\n      show: false,\n      reject: null,\n      resolve: null,\n      current: '0.00',\n      updateAs: '0.00'\n    };\n  },\n  methods: {\n    showDialog() {\n      return this.http.request({\n        method: 'GET',\n        url: `/api/v2/leave/employees/${this.data.employee?.id}/leave-entitlements`,\n        params: {\n          leaveTypeId: this.data.leaveType?.id,\n          fromDate: this.data.leavePeriod?.startDate,\n          toDate: this.data.leavePeriod?.endDate,\n          entitlement: this.data.entitlement\n        }\n      }).then(response => {\n        const {\n          data\n        } = response.data;\n        this.current = data.entitlement?.current ? parseFloat(data.entitlement.current).toFixed(2) : '0.00';\n        this.updateAs = data.entitlement?.updateAs ? parseFloat(data.entitlement.updateAs).toFixed(2) : '0.00';\n        return new Promise((resolve, reject) => {\n          this.resolve = resolve;\n          this.reject = reject;\n          this.show = true;\n        });\n      });\n    },\n    onConfirm() {\n      this.show = false;\n      this.resolve && this.resolve('ok');\n    },\n    onCancel() {\n      this.show = false;\n      this.resolve && this.resolve('cancel');\n    }\n  }\n};","map":{"version":3,"mappings":"AA4DA,SAAQA,UAAU,QAAO,sCAAsC;AAC/D,SAAQC,SAAS,QAAO,WAAW;AAEnC,eAAe;EACbC,IAAI,EAAE,wBAAwB;EAC9BC,UAAU,EAAE;IACV,YAAY,EAAEF;EAChB,CAAC;EACDG,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,GAAG;IACN,MAAMC,IAAG,GAAI,IAAIV,UAAU,CAACW,MAAM,CAACC,SAAS,CAACC,OAAO,EAAE,EAAE,CAAC;IACzD,OAAO;MACLH;IACF,CAAC;EACH,CAAC;EACDL,IAAI,GAAG;IACL,OAAO;MACLS,IAAI,EAAE,KAAK;MACXC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,MAAM;MACfC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAU,GAAG;MACX,OAAO,IAAI,CAACV,IAAG,CACZW,OAAO,CAAC;QACPC,MAAM,EAAE,KAAK;QACbC,GAAG,EAAG,2BAA0B,IAAI,CAAClB,IAAI,CAACmB,QAAQ,EAAEC,EAAG,qBAAoB;QAC3EC,MAAM,EAAE;UACNC,WAAW,EAAE,IAAI,CAACtB,IAAI,CAACuB,SAAS,EAAEH,EAAE;UACpCI,QAAQ,EAAE,IAAI,CAACxB,IAAI,CAACyB,WAAW,EAAEC,SAAS;UAC1CC,MAAM,EAAE,IAAI,CAAC3B,IAAI,CAACyB,WAAW,EAAEG,OAAO;UACtCC,WAAW,EAAE,IAAI,CAAC7B,IAAI,CAAC6B;QACzB;MACF,CAAC,EACAC,IAAI,CAAEC,QAAQ,IAAK;QAClB,MAAM;UAAC/B;QAAI,IAAI+B,QAAQ,CAAC/B,IAAI;QAC5B,IAAI,CAACY,OAAM,GAAIZ,IAAI,CAAC6B,WAAW,EAAEjB,OAAM,GACnCoB,UAAU,CAAChC,IAAI,CAAC6B,WAAW,CAACjB,OAAO,CAAC,CAACqB,OAAO,CAAC,CAAC,IAC9C,MAAM;QACV,IAAI,CAACpB,QAAO,GAAIb,IAAI,CAAC6B,WAAW,EAAEhB,QAAO,GACrCmB,UAAU,CAAChC,IAAI,CAAC6B,WAAW,CAAChB,QAAQ,CAAC,CAACoB,OAAO,CAAC,CAAC,IAC/C,MAAM;QACV,OAAO,IAAIC,OAAO,CAAC,CAACvB,OAAO,EAAED,MAAM,KAAK;UACtC,IAAI,CAACC,OAAM,GAAIA,OAAO;UACtB,IAAI,CAACD,MAAK,GAAIA,MAAM;UACpB,IAAI,CAACD,IAAG,GAAI,IAAI;QAClB,CAAC,CAAC;MACJ,CAAC,CAAC;IACN,CAAC;IACD0B,SAAS,GAAG;MACV,IAAI,CAAC1B,IAAG,GAAI,KAAK;MACjB,IAAI,CAACE,OAAM,IAAK,IAAI,CAACA,OAAO,CAAC,IAAI,CAAC;IACpC,CAAC;IACDyB,QAAQ,GAAG;MACT,IAAI,CAAC3B,IAAG,GAAI,KAAK;MACjB,IAAI,CAACE,OAAM,IAAK,IAAI,CAACA,OAAO,CAAC,QAAQ,CAAC;IACxC;EACF;AACF,CAAC","names":["APIService","OxdDialog","name","components","props","data","type","Object","required","setup","http","window","appGlobal","baseUrl","show","reject","resolve","current","updateAs","methods","showDialog","request","method","url","employee","id","params","leaveTypeId","leaveType","fromDate","leavePeriod","startDate","toDate","endDate","entitlement","then","response","parseFloat","toFixed","Promise","onConfirm","onCancel"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmLeavePlugin\\components\\EntitlementUpdateModal.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <teleport to=\"#app\">\n    <oxd-dialog\n      v-if=\"show\"\n      :style=\"{maxWidth: '450px'}\"\n      @update:show=\"onCancel\"\n    >\n      <div class=\"orangehrm-modal-header\">\n        <oxd-text type=\"card-title\">\n          {{ $t('leave.updating_entitlement') }}\n        </oxd-text>\n      </div>\n      <div class=\"orangehrm-text-center-align\">\n        <oxd-text type=\"card-body\">\n          {{\n            $t('leave.entitlement_value_confirmation_message', {\n              oldvalue: current,\n              newvalue: updateAs,\n            })\n          }}\n        </oxd-text>\n      </div>\n      <div class=\"orangehrm-modal-footer\">\n        <oxd-button\n          display-type=\"ghost\"\n          class=\"orangehrm-button-margin\"\n          :label=\"$t('general.cancel')\"\n          @click=\"onCancel\"\n        />\n        <oxd-button\n          display-type=\"secondary\"\n          class=\"orangehrm-button-margin\"\n          :label=\"$t('general.confirm')\"\n          @click=\"onConfirm\"\n        />\n      </div>\n    </oxd-dialog>\n  </teleport>\n</template>\n\n<script>\nimport {APIService} from '@ohrm/core/util/services/api.service';\nimport {OxdDialog} from '@ohrm/oxd';\n\nexport default {\n  name: 'EntitlementUpdateModal',\n  components: {\n    'oxd-dialog': OxdDialog,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup() {\n    const http = new APIService(window.appGlobal.baseUrl, '');\n    return {\n      http,\n    };\n  },\n  data() {\n    return {\n      show: false,\n      reject: null,\n      resolve: null,\n      current: '0.00',\n      updateAs: '0.00',\n    };\n  },\n  methods: {\n    showDialog() {\n      return this.http\n        .request({\n          method: 'GET',\n          url: `/api/v2/leave/employees/${this.data.employee?.id}/leave-entitlements`,\n          params: {\n            leaveTypeId: this.data.leaveType?.id,\n            fromDate: this.data.leavePeriod?.startDate,\n            toDate: this.data.leavePeriod?.endDate,\n            entitlement: this.data.entitlement,\n          },\n        })\n        .then((response) => {\n          const {data} = response.data;\n          this.current = data.entitlement?.current\n            ? parseFloat(data.entitlement.current).toFixed(2)\n            : '0.00';\n          this.updateAs = data.entitlement?.updateAs\n            ? parseFloat(data.entitlement.updateAs).toFixed(2)\n            : '0.00';\n          return new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n            this.show = true;\n          });\n        });\n    },\n    onConfirm() {\n      this.show = false;\n      this.resolve && this.resolve('ok');\n    },\n    onCancel() {\n      this.show = false;\n      this.resolve && this.resolve('cancel');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.orangehrm-modal-header {\n  margin-bottom: 1.2rem;\n  display: flex;\n  justify-content: center;\n}\n.orangehrm-modal-footer {\n  margin-top: 1.2rem;\n  display: flex;\n  justify-content: center;\n}\n.orangehrm-button-margin {\n  margin: 0.25rem;\n}\n.orangehrm-text-center-align {\n  text-align: center;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}