{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, renderSlot as _renderSlot, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2af3c0f4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"orangehrm-evaluation orangehrm-card-container\"\n};\nconst _hoisted_2 = {\n  class: \"orangehrm-evaluation-header\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"orangehrm-evaluation-title-name\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_icon_button = _resolveComponent(\"oxd-icon-button\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_oxd_text, {\n    class: \"orangehrm-main-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($props.title), 1)]),\n    _: 1\n  }), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_oxd_grid, {\n    cols: 3,\n    class: \"orangehrm-evaluation-header-grid\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n      class: \"orangehrm-evaluation-title\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        class: \"orangehrm-evaluation-title-profile-image\",\n        alt: \"profile picture\",\n        src: $setup.profileImgSrc\n      }, null, 8, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_oxd_text, {\n        type: \"card-title\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.employeeName), 1)]),\n        _: 1\n      }), _createVNode(_component_oxd_text, {\n        type: \"card-body\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($props.jobTitle), 1)]),\n        _: 1\n      })])]),\n      _: 1\n    }), _createVNode(_component_oxd_grid_item, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_text, {\n        type: \"card-body\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.status')), 1)]),\n        _: 1\n      }), _createVNode(_component_oxd_text, {\n        type: \"card-title\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.evaluationLabel), 1)]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  }), $props.collapsible ? (_openBlock(), _createBlock(_component_oxd_icon_button, {\n    key: 0,\n    \"with-container\": false,\n    name: $setup.isCollapsed ? 'chevron-down' : 'chevron-up',\n    onClick: $setup.toggleForm\n  }, null, 8, [\"name\", \"onClick\"])) : _createCommentVNode(\"\", true)]), !$setup.isCollapsed ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createVNode(_component_oxd_divider), _createVNode(_component_oxd_grid, {\n    cols: 4,\n    class: \"orangehrm-evaluation-grid\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n      class: \"orangehrm-evaluation-grid-header\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_text, {\n        type: \"subtitle-2\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.kpis')), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_grid_item, {\n      class: \"orangehrm-evaluation-grid-header\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_text, {\n        type: \"subtitle-2\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.rating')), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_grid_item, {\n      class: \"orangehrm-evaluation-grid-header\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_text, {\n        type: \"subtitle-2\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.comments')), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_grid_item, {\n      class: \"orangehrm-evaluation-grid-spacer-md\"\n    }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.kpis, (kpi, index) => {\n      return _openBlock(), _createElementBlock(_Fragment, {\n        key: kpi.id\n      }, [_createVNode(_component_oxd_grid_item, {\n        class: \"orangehrm-evaluation-grid-kpi\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_text, {\n          class: \"orangehrm-evaluation-grid-kpi-header\",\n          type: \"subtitle-2\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.kpi')), 1)]),\n          _: 1\n        }), _createVNode(_component_oxd_text, {\n          title: kpi.title,\n          tag: \"p\",\n          class: \"orangehrm-evaluation-grid-kpi-label\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(kpi.title), 1)]),\n          _: 2\n        }, 1032, [\"title\"]), _createVNode(_component_oxd_text, {\n          class: \"orangehrm-evaluation-grid-kpi-minmax\",\n          tag: \"p\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.min')) + \": \" + _toDisplayString(kpi.minRating), 1)]),\n          _: 2\n        }, 1024), _createVNode(_component_oxd_text, {\n          class: \"orangehrm-evaluation-grid-kpi-minmax\",\n          tag: \"p\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.max')) + \": \" + _toDisplayString(kpi.maxRating), 1)]),\n          _: 2\n        }, 1024)]),\n        _: 2\n      }, 1024), _createVNode(_component_oxd_grid_item, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_text, {\n          class: \"orangehrm-evaluation-grid-kpi-header\",\n          type: \"subtitle-2\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.rating')), 1)]),\n          _: 1\n        }), _createVNode(_component_oxd_input_field, {\n          type: \"input\",\n          disabled: !$props.editable,\n          rules: $props.rules[index],\n          \"model-value\": $props.modelValue.kpis[index].rating,\n          \"onUpdate:modelValue\": $event => $setup.onUpdateRating($event, index)\n        }, null, 8, [\"disabled\", \"rules\", \"model-value\", \"onUpdate:modelValue\"])]),\n        _: 2\n      }, 1024), _createVNode(_component_oxd_grid_item, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_text, {\n          class: \"orangehrm-evaluation-grid-kpi-header\",\n          type: \"subtitle-2\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.comment')), 1)]),\n          _: 1\n        }), _createVNode(_component_oxd_input_field, {\n          class: \"orangehrm-evaluation-grid-comment\",\n          rows: \"2\",\n          type: \"textarea\",\n          disabled: !$props.editable,\n          rules: $setup.commentValidators,\n          \"model-value\": $props.modelValue.kpis[index].comment,\n          \"onUpdate:modelValue\": $event => $setup.onUpdateComment($event, index)\n        }, null, 8, [\"disabled\", \"rules\", \"model-value\", \"onUpdate:modelValue\"])]),\n        _: 2\n      }, 1024), _createVNode(_component_oxd_grid_item, {\n        class: \"orangehrm-evaluation-grid-spacer-md\"\n      })], 64);\n    }), 128))]),\n    _: 1\n  }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_grid, {\n    cols: 3,\n    class: \"orangehrm-evaluation-grid\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n      class: \"orangehrm-evaluation-grid-general\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_text, {\n        tag: \"p\",\n        class: \"orangehrm-evaluation-grid-general-label\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('performance.general_comment')), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_grid_item, {\n      class: \"--span-column-2\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n        class: \"orangehrm-evaluation-grid-comment\",\n        rows: \"2\",\n        type: \"textarea\",\n        disabled: !$props.editable,\n        rules: $setup.commentValidators,\n        \"model-value\": $props.modelValue.generalComment,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.onUpdateGeneralComment($event))\n      }, null, 8, [\"disabled\", \"rules\", \"model-value\"])]),\n      _: 1\n    })]),\n    _: 1\n  }), _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)], 64)) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_oxd_text","$props","_createElementVNode","_hoisted_2","_component_oxd_grid","cols","_component_oxd_grid_item","alt","src","$setup","_hoisted_4","type","_ctx","_createBlock","_component_oxd_icon_button","name","onClick","_Fragment","key","_component_oxd_divider","kpi","index","id","title","tag","minRating","maxRating","_component_oxd_input_field","disabled","rules","kpis","rating","$event","rows","comment","generalComment","_renderSlot"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmPerformancePlugin\\components\\EvaluationForm.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"orangehrm-evaluation orangehrm-card-container\">\n    <oxd-text class=\"orangehrm-main-title\">\n      {{ title }}\n    </oxd-text>\n\n    <div class=\"orangehrm-evaluation-header\">\n      <oxd-grid :cols=\"3\" class=\"orangehrm-evaluation-header-grid\">\n        <oxd-grid-item class=\"orangehrm-evaluation-title\">\n          <img\n            class=\"orangehrm-evaluation-title-profile-image\"\n            alt=\"profile picture\"\n            :src=\"profileImgSrc\"\n          />\n          <div class=\"orangehrm-evaluation-title-name\">\n            <oxd-text type=\"card-title\">\n              {{ employeeName }}\n            </oxd-text>\n            <oxd-text type=\"card-body\">\n              {{ jobTitle }}\n            </oxd-text>\n          </div>\n        </oxd-grid-item>\n        <oxd-grid-item>\n          <oxd-text type=\"card-body\">\n            {{ $t('general.status') }}\n          </oxd-text>\n          <oxd-text type=\"card-title\">\n            {{ evaluationLabel }}\n          </oxd-text>\n        </oxd-grid-item>\n      </oxd-grid>\n      <oxd-icon-button\n        v-if=\"collapsible\"\n        :with-container=\"false\"\n        :name=\"isCollapsed ? 'chevron-down' : 'chevron-up'\"\n        @click=\"toggleForm\"\n      />\n    </div>\n\n    <template v-if=\"!isCollapsed\">\n      <oxd-divider />\n      <oxd-grid :cols=\"4\" class=\"orangehrm-evaluation-grid\">\n        <oxd-grid-item class=\"orangehrm-evaluation-grid-header\">\n          <oxd-text type=\"subtitle-2\">{{ $t('general.kpis') }}</oxd-text>\n        </oxd-grid-item>\n        <oxd-grid-item class=\"orangehrm-evaluation-grid-header\">\n          <oxd-text type=\"subtitle-2\">{{ $t('performance.rating') }}</oxd-text>\n        </oxd-grid-item>\n        <oxd-grid-item class=\"orangehrm-evaluation-grid-header\">\n          <oxd-text type=\"subtitle-2\">{{ $t('general.comments') }}</oxd-text>\n        </oxd-grid-item>\n        <oxd-grid-item\n          class=\"orangehrm-evaluation-grid-spacer-md\"\n        ></oxd-grid-item>\n\n        <template v-for=\"(kpi, index) in kpis\" :key=\"kpi.id\">\n          <oxd-grid-item class=\"orangehrm-evaluation-grid-kpi\">\n            <oxd-text\n              class=\"orangehrm-evaluation-grid-kpi-header\"\n              type=\"subtitle-2\"\n            >\n              {{ $t('performance.kpi') }}\n            </oxd-text>\n            <oxd-text\n              :title=\"kpi.title\"\n              tag=\"p\"\n              class=\"orangehrm-evaluation-grid-kpi-label\"\n            >\n              {{ kpi.title }}\n            </oxd-text>\n            <oxd-text class=\"orangehrm-evaluation-grid-kpi-minmax\" tag=\"p\">\n              {{ $t('performance.min') }}: {{ kpi.minRating }}\n            </oxd-text>\n            <oxd-text class=\"orangehrm-evaluation-grid-kpi-minmax\" tag=\"p\">\n              {{ $t('performance.max') }}: {{ kpi.maxRating }}\n            </oxd-text>\n          </oxd-grid-item>\n          <oxd-grid-item>\n            <oxd-text\n              class=\"orangehrm-evaluation-grid-kpi-header\"\n              type=\"subtitle-2\"\n            >\n              {{ $t('performance.rating') }}\n            </oxd-text>\n            <oxd-input-field\n              type=\"input\"\n              :disabled=\"!editable\"\n              :rules=\"rules[index]\"\n              :model-value=\"modelValue.kpis[index].rating\"\n              @update:model-value=\"onUpdateRating($event, index)\"\n            />\n          </oxd-grid-item>\n          <oxd-grid-item>\n            <oxd-text\n              class=\"orangehrm-evaluation-grid-kpi-header\"\n              type=\"subtitle-2\"\n            >\n              {{ $t('general.comment') }}\n            </oxd-text>\n            <oxd-input-field\n              class=\"orangehrm-evaluation-grid-comment\"\n              rows=\"2\"\n              type=\"textarea\"\n              :disabled=\"!editable\"\n              :rules=\"commentValidators\"\n              :model-value=\"modelValue.kpis[index].comment\"\n              @update:model-value=\"onUpdateComment($event, index)\"\n            />\n          </oxd-grid-item>\n          <oxd-grid-item\n            class=\"orangehrm-evaluation-grid-spacer-md\"\n          ></oxd-grid-item>\n        </template>\n      </oxd-grid>\n\n      <oxd-divider />\n      <oxd-grid :cols=\"3\" class=\"orangehrm-evaluation-grid\">\n        <oxd-grid-item class=\"orangehrm-evaluation-grid-general\">\n          <oxd-text tag=\"p\" class=\"orangehrm-evaluation-grid-general-label\">\n            {{ $t('performance.general_comment') }}\n          </oxd-text>\n        </oxd-grid-item>\n        <oxd-grid-item class=\"--span-column-2\">\n          <oxd-input-field\n            class=\"orangehrm-evaluation-grid-comment\"\n            rows=\"2\"\n            type=\"textarea\"\n            :disabled=\"!editable\"\n            :rules=\"commentValidators\"\n            :model-value=\"modelValue.generalComment\"\n            @update:model-value=\"onUpdateGeneralComment($event)\"\n          />\n        </oxd-grid-item>\n      </oxd-grid>\n      <slot></slot>\n    </template>\n  </div>\n</template>\n\n<script>\nimport {computed, ref} from 'vue';\nimport usei18n from '@/core/util/composable/usei18n';\nimport {shouldNotExceedCharLength} from '@/core/util/validation/rules';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\nimport {OxdDivider} from '@ohrm/oxd';\n\nconst defaultPic = `${window.appGlobal.publicPath}/images/default-photo.png`;\n\nexport default {\n  components: {\n    'oxd-divider': OxdDivider,\n  },\n  props: {\n    kpis: {\n      type: Array,\n      required: true,\n    },\n    title: {\n      type: String,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      required: true,\n    },\n    collapsible: {\n      type: Boolean,\n      required: true,\n    },\n    employee: {\n      type: Object,\n      required: true,\n    },\n    jobTitle: {\n      type: String,\n      required: true,\n    },\n    rules: {\n      type: Array,\n      required: true,\n    },\n    modelValue: {\n      type: Object,\n      required: true,\n      validator: (value) =>\n        Object.hasOwn(value, 'kpis') && Object.hasOwn(value, 'generalComment'),\n    },\n    collapsed: {\n      type: Boolean,\n      default: false,\n    },\n    status: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  emits: ['update:modelValue'],\n\n  setup(props, context) {\n    const {$t} = usei18n();\n    const {$tEmpName} = useEmployeeNameTranslate();\n    const isCollapsed = ref(props.collapsed);\n    const commentValidators = [shouldNotExceedCharLength(2000)];\n\n    const profileImgSrc = computed(() => {\n      return props.employee.empNumber\n        ? `${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${props.employee.empNumber}`\n        : defaultPic;\n    });\n\n    const employeeName = computed(() => {\n      return $tEmpName(props.employee);\n    });\n\n    const toggleForm = () => {\n      isCollapsed.value = !isCollapsed.value;\n    };\n\n    const onUpdateRating = (value, index) => {\n      context.emit('update:modelValue', {\n        kpis: props.modelValue.kpis.map((item, _index) => {\n          if (_index === index) {\n            return {...item, rating: value};\n          }\n          return item;\n        }),\n        generalComment: props.modelValue.generalComment,\n      });\n    };\n\n    const onUpdateComment = (value, index) => {\n      context.emit('update:modelValue', {\n        kpis: props.modelValue.kpis.map((item, _index) => {\n          if (_index === index) {\n            return {...item, comment: value};\n          }\n          return item;\n        }),\n        generalComment: props.modelValue.generalComment,\n      });\n    };\n\n    const onUpdateGeneralComment = (value) => {\n      context.emit('update:modelValue', {\n        kpis: props.modelValue.kpis,\n        generalComment: value,\n      });\n    };\n\n    const statusOpts = [\n      {id: 1, label: $t('performance.evaluation_activated')},\n      {id: 2, label: $t('performance.evaluation_in_progress')},\n      {id: 3, label: $t('performance.evaluation_completed')},\n    ];\n\n    const evaluationLabel = computed(\n      () => statusOpts.find((el) => el.id === props.status).label,\n    );\n\n    return {\n      toggleForm,\n      isCollapsed,\n      employeeName,\n      profileImgSrc,\n      onUpdateRating,\n      onUpdateComment,\n      onUpdateGeneralComment,\n      commentValidators,\n      evaluationLabel,\n    };\n  },\n};\n</script>\n\n<style src=\"./evaluation-form.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}