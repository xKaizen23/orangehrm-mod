{"ast":null,"code":"import { computed } from 'vue';\nimport { formatDate, parseDate } from '@/core/util/helper/datefns';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport useLocale from '@/core/util/composable/useLocale';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\nconst defaultPic = `${window.appGlobal.publicPath}/images/default-photo.png`;\nexport default {\n  name: 'ReviewSummary',\n  props: {\n    employee: {\n      type: Object,\n      required: true\n    },\n    jobTitle: {\n      type: String,\n      required: true\n    },\n    status: {\n      type: Number,\n      required: true\n    },\n    reviewPeriodStart: {\n      type: String,\n      required: true\n    },\n    reviewPeriodEnd: {\n      type: String,\n      required: true\n    },\n    dueDate: {\n      type: String,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      required: true\n    },\n    finalRating: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props) {\n    const {\n      $t\n    } = usei18n();\n    const {\n      locale\n    } = useLocale();\n    const {\n      jsDateFormat\n    } = useDateFormat();\n    const {\n      $tEmpName\n    } = useEmployeeNameTranslate();\n    const statusOpts = [{\n      id: 1,\n      label: $t('performance.inactive')\n    }, {\n      id: 2,\n      label: $t('performance.activated')\n    }, {\n      id: 3,\n      label: $t('performance.in_progress')\n    }, {\n      id: 4,\n      label: $t('performance.completed')\n    }];\n    const reviewDateFormat = date => formatDate(parseDate(date), jsDateFormat, {\n      locale\n    });\n    const imgSrc = computed(() => props.employee.empNumber ? `${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${props.employee.empNumber}` : defaultPic);\n    const reviewStatus = statusOpts.find(el => el.id === props.status).label;\n    const reviewPeriod = `${reviewDateFormat(props.reviewPeriodStart)} - ${reviewDateFormat(props.reviewPeriodEnd)}`;\n    const reviewDueDate = reviewDateFormat(props.dueDate);\n    const employeeName = computed(() => {\n      return $tEmpName(props.employee, {\n        includeMiddle: true,\n        excludePastEmpTag: false\n      });\n    });\n    return {\n      imgSrc,\n      reviewStatus,\n      reviewPeriod,\n      reviewDueDate,\n      employeeName\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["computed","formatDate","parseDate","useDateFormat","useLocale","usei18n","useEmployeeNameTranslate","defaultPic","window","appGlobal","publicPath","name","props","employee","type","Object","required","jobTitle","String","status","Number","reviewPeriodStart","reviewPeriodEnd","dueDate","loading","Boolean","finalRating","default","setup","$t","locale","jsDateFormat","$tEmpName","statusOpts","id","label","reviewDateFormat","date","imgSrc","empNumber","baseUrl","reviewStatus","find","el","reviewPeriod","reviewDueDate","employeeName","includeMiddle","excludePastEmpTag"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmPerformancePlugin\\components\\ReviewSummary.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"orangehrm-card-container\">\n    <div class=\"orangehrm-performance-review-summary\">\n      <oxd-text tag=\"h5\" class=\"orangehrm-performance-review-title\">\n        {{ $t('performance.review_summary') }}\n      </oxd-text>\n      <oxd-form :loading=\"loading\">\n        <oxd-form-row class=\"orangehrm-performance-review-details\">\n          <oxd-grid :cols=\"3\" class=\"orangehrm-performance-review-details-grid\">\n            <oxd-grid-item>\n              <div class=\"orangehrm-performance-review-owner\">\n                <img\n                  alt=\"profile picture\"\n                  class=\"employee-image\"\n                  :src=\"imgSrc\"\n                />\n                <div\n                  class=\"orangehrm-performance-review-owner-employee-section\"\n                >\n                  <div class=\"orangehrm-performance-review-owner-employee\">\n                    <oxd-text\n                      tag=\"h5\"\n                      class=\"orangehrm-performance-review-owner-employee-name\"\n                    >\n                      {{ employeeName }}\n                    </oxd-text>\n                    <oxd-text\n                      tag=\"h6\"\n                      class=\"orangehrm-performance-review-owner-employee-job\"\n                    >\n                      {{ jobTitle }}\n                    </oxd-text>\n                  </div>\n                </div>\n              </div>\n            </oxd-grid-item>\n            <oxd-grid-item v-show=\"status === 4\">\n              <div class=\"orangehrm-performance-review-rating\">\n                <oxd-text type=\"subtitle-2\">\n                  {{ $t('performance.final_rating') }}\n                </oxd-text>\n                <oxd-text\n                  tag=\"h4\"\n                  class=\"orangehrm-performance-review-rating-number\"\n                >\n                  {{ finalRating }}\n                </oxd-text>\n              </div>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-form-row class=\"orangehrm-performance-review-details\">\n          <oxd-grid :cols=\"3\" class=\"orangehrm-performance-review-details-grid\">\n            <oxd-grid-item class=\"orangehrm-performance-review-column\">\n              <oxd-text type=\"subtitle-2\">\n                {{ $t('performance.review_status') }}\n              </oxd-text>\n              <oxd-text class=\"orangehrm-performance-review-bold\">\n                {{ reviewStatus }}\n              </oxd-text>\n            </oxd-grid-item>\n            <oxd-grid-item class=\"orangehrm-performance-review-column\">\n              <oxd-text type=\"subtitle-2\">\n                {{ $t('performance.review_period') }}\n              </oxd-text>\n              <oxd-text class=\"orangehrm-performance-review-bold\">\n                {{ reviewPeriod }}\n              </oxd-text>\n            </oxd-grid-item>\n            <oxd-grid-item class=\"orangehrm-performance-review-column\">\n              <oxd-text type=\"subtitle-2\">\n                {{ $t('performance.review_due_date') }}\n              </oxd-text>\n              <oxd-text class=\"orangehrm-performance-review-bold\">\n                {{ reviewDueDate }}\n              </oxd-text>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n      </oxd-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {computed} from 'vue';\nimport {formatDate, parseDate} from '@/core/util/helper/datefns';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport useLocale from '@/core/util/composable/useLocale';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\n\nconst defaultPic = `${window.appGlobal.publicPath}/images/default-photo.png`;\n\nexport default {\n  name: 'ReviewSummary',\n\n  props: {\n    employee: {\n      type: Object,\n      required: true,\n    },\n    jobTitle: {\n      type: String,\n      required: true,\n    },\n    status: {\n      type: Number,\n      required: true,\n    },\n    reviewPeriodStart: {\n      type: String,\n      required: true,\n    },\n    reviewPeriodEnd: {\n      type: String,\n      required: true,\n    },\n    dueDate: {\n      type: String,\n      required: true,\n    },\n    loading: {\n      type: Boolean,\n      required: true,\n    },\n    finalRating: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props) {\n    const {$t} = usei18n();\n    const {locale} = useLocale();\n    const {jsDateFormat} = useDateFormat();\n    const {$tEmpName} = useEmployeeNameTranslate();\n\n    const statusOpts = [\n      {id: 1, label: $t('performance.inactive')},\n      {id: 2, label: $t('performance.activated')},\n      {id: 3, label: $t('performance.in_progress')},\n      {id: 4, label: $t('performance.completed')},\n    ];\n\n    const reviewDateFormat = (date) =>\n      formatDate(parseDate(date), jsDateFormat, {locale});\n\n    const imgSrc = computed(() =>\n      props.employee.empNumber\n        ? `${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${props.employee.empNumber}`\n        : defaultPic,\n    );\n\n    const reviewStatus = statusOpts.find((el) => el.id === props.status).label;\n    const reviewPeriod = `${reviewDateFormat(\n      props.reviewPeriodStart,\n    )} - ${reviewDateFormat(props.reviewPeriodEnd)}`;\n    const reviewDueDate = reviewDateFormat(props.dueDate);\n\n    const employeeName = computed(() => {\n      return $tEmpName(props.employee, {\n        includeMiddle: true,\n        excludePastEmpTag: false,\n      });\n    });\n\n    return {\n      imgSrc,\n      reviewStatus,\n      reviewPeriod,\n      reviewDueDate,\n      employeeName,\n    };\n  },\n};\n</script>\n\n<style src=\"./review-summary.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}