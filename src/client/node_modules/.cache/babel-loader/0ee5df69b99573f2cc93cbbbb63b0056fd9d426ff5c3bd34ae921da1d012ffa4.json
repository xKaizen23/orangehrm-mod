{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, mergeProps as _mergeProps, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d6a04e6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"orangehrm-file-current\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"orangehrm-file-options\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"orangehrm-file-input\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_icon = _resolveComponent(\"oxd-icon\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_input_group = _resolveComponent(\"oxd-input-group\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [$options.fileSelected ? (_openBlock(), _createBlock(_component_oxd_input_group, {\n    key: 0,\n    label: $props.label\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n      class: \"orangehrm-file-preview\",\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.downloadFile && $options.downloadFile(...args))\n    }, [_createVNode(_component_oxd_icon, {\n      class: \"orangehrm-file-icon\",\n      name: \"file-earmark-text\"\n    }), _createVNode(_component_oxd_text, {\n      class: \"orangehrm-file-name\",\n      tag: \"p\",\n      title: $props.file.filename\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($props.file.filename) + \" \", 1), _createVNode(_component_oxd_icon, {\n        class: \"orangehrm-file-download\",\n        name: \"download\"\n      })]),\n      _: 1\n    }, 8, [\"title\"])]), !$props.disabled ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_oxd_input_field, {\n      type: \"radio\",\n      \"option-label\": _ctx.$t('general.keep_current'),\n      value: \"keepCurrent\",\n      \"model-value\": $props.method,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.$emit('update:method', $event))\n    }, null, 8, [\"option-label\", \"model-value\"]), $props.deletable ? (_openBlock(), _createBlock(_component_oxd_input_field, {\n      key: 0,\n      type: \"radio\",\n      \"option-label\": _ctx.$t('general.delete_current'),\n      value: \"deleteCurrent\",\n      \"model-value\": $props.method,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.$emit('update:method', $event))\n    }, null, 8, [\"option-label\", \"model-value\"])) : _createCommentVNode(\"\", true), _createVNode(_component_oxd_input_field, {\n      type: \"radio\",\n      \"option-label\": _ctx.$t('general.replace_current'),\n      value: \"replaceCurrent\",\n      \"model-value\": $props.method,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.$emit('update:method', $event))\n    }, null, 8, [\"option-label\", \"model-value\"])])) : _createCommentVNode(\"\", true)])]),\n    _: 1\n  }, 8, [\"label\"])) : _createCommentVNode(\"\", true), $props.method === 'replaceCurrent' || !$options.fileSelected ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_oxd_input_field, _mergeProps(_ctx.$attrs, {\n    type: \"file\",\n    label: $options.fieldLabel,\n    \"model-value\": $props.newFile,\n    disabled: $props.disabled,\n    placeholder: _ctx.$t('general.no_file_selected'),\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.$emit('update:newFile', $event))\n  }), null, 16, [\"label\", \"model-value\", \"disabled\", \"placeholder\"]), _createVNode(_component_oxd_text, {\n    class: \"orangehrm-input-hint\",\n    tag: \"p\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($props.hint), 1)]),\n    _: 1\n  })])) : _createCommentVNode(\"\", true)], 64);\n}","map":{"version":3,"mappings":";;;EAsBSA,KAAK,EAAC;AAAwB;;;EAQXA,KAAK,EAAC;;;;EA4B9BA,KAAK,EAAC;;;;;;;6DArCeC,qBAAY,kBAAnCC,aAkCkBC;;IAlCoBC,KAAK,EAAEC;;sBAC3C,MAgCM,CAhCNC,oBAgCM,OAhCNC,UAgCM,GA/BJD,oBAMM;MANDN,KAAK,EAAC,wBAAwB;MAAEQ,OAAK,yCAAEP,uDAAY;QACtDQ,aAAiEC;MAAvDV,KAAK,EAAC,qBAAqB;MAACW,IAAI,EAAC;QAC3CF,aAGWG;MAHDZ,KAAK,EAAC,qBAAqB;MAACa,GAAG,EAAC,GAAG;MAAEC,KAAK,EAAET,WAAI,CAACU;;wBACzD,MAAmB,mCAAhBV,WAAI,CAACU,QAAQ,IAAG,GACnB,mBAA4DL;QAAlDV,KAAK,EAAC,yBAAyB;QAACW,IAAI,EAAC;;;yBAGvCN,eAAQ,kBAApBW,oBAuBM,OAvBNC,UAuBM,GAtBJR,aAMES;MALAC,IAAI,EAAC,OAAO;MACX,cAAY,EAAEC,OAAE;MACjBC,KAAK,EAAC,aAAa;MAClB,aAAW,EAAEhB,aAAM;MACnB,qBAAkB,sCAAEe,UAAK,kBAAkBE,MAAM;kDAG5CjB,gBAAS,kBADjBH,aAOEgB;;MALAC,IAAI,EAAC,OAAO;MACX,cAAY,EAAEC,OAAE;MACjBC,KAAK,EAAC,eAAe;MACpB,aAAW,EAAEhB,aAAM;MACnB,qBAAkB,sCAAEe,UAAK,kBAAkBE,MAAM;mFAEpDb,aAMES;MALAC,IAAI,EAAC,OAAO;MACX,cAAY,EAAEC,OAAE;MACjBC,KAAK,EAAC,gBAAgB;MACrB,aAAW,EAAEhB,aAAM;MACnB,qBAAkB,sCAAEe,UAAK,kBAAkBE,MAAM;;;qDAMlDjB,aAAM,0BAA0BJ,qBAAY,kBADpDe,oBAcM,OAdNO,UAcM,GAVJd,aAQES,4BARFM,YACUJ,IAOR,OAPc;IACdD,IAAI,EAAC,MAAM;IACVf,KAAK,EAAEH,mBAAU;IACjB,aAAW,EAAEI,cAAO;IACpBoB,QAAQ,EAAEpB,eAAQ;IAClBqB,WAAW,EAAEN,OAAE;IACf,qBAAkB,sCAAEA,UAAK,mBAAmBE,MAAM;sEAErDb,aAAoEG;IAA1DZ,KAAK,EAAC,sBAAsB;IAACa,GAAG,EAAC;;sBAAI,MAAU,mCAAPR,WAAI","names":["class","$options","_createBlock","_component_oxd_input_group","label","$props","_createElementVNode","_hoisted_1","onClick","_createVNode","_component_oxd_icon","name","_component_oxd_text","tag","title","filename","_createElementBlock","_hoisted_2","_component_oxd_input_field","type","_ctx","value","$event","_hoisted_3","_mergeProps","disabled","placeholder"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\core\\components\\inputs\\FileUploadInput.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <!-- Always use inside OXD-Form -->\n  <oxd-input-group v-if=\"fileSelected\" :label=\"label\">\n    <div class=\"orangehrm-file-current\">\n      <div class=\"orangehrm-file-preview\" @click=\"downloadFile\">\n        <oxd-icon class=\"orangehrm-file-icon\" name=\"file-earmark-text\" />\n        <oxd-text class=\"orangehrm-file-name\" tag=\"p\" :title=\"file.filename\">\n          {{ file.filename }}\n          <oxd-icon class=\"orangehrm-file-download\" name=\"download\" />\n        </oxd-text>\n      </div>\n      <div v-if=\"!disabled\" class=\"orangehrm-file-options\">\n        <oxd-input-field\n          type=\"radio\"\n          :option-label=\"$t('general.keep_current')\"\n          value=\"keepCurrent\"\n          :model-value=\"method\"\n          @update:model-value=\"$emit('update:method', $event)\"\n        />\n        <oxd-input-field\n          v-if=\"deletable\"\n          type=\"radio\"\n          :option-label=\"$t('general.delete_current')\"\n          value=\"deleteCurrent\"\n          :model-value=\"method\"\n          @update:model-value=\"$emit('update:method', $event)\"\n        />\n        <oxd-input-field\n          type=\"radio\"\n          :option-label=\"$t('general.replace_current')\"\n          value=\"replaceCurrent\"\n          :model-value=\"method\"\n          @update:model-value=\"$emit('update:method', $event)\"\n        />\n      </div>\n    </div>\n  </oxd-input-group>\n  <div\n    v-if=\"method === 'replaceCurrent' || !fileSelected\"\n    class=\"orangehrm-file-input\"\n  >\n    <oxd-input-field\n      v-bind=\"$attrs\"\n      type=\"file\"\n      :label=\"fieldLabel\"\n      :model-value=\"newFile\"\n      :disabled=\"disabled\"\n      :placeholder=\"$t('general.no_file_selected')\"\n      @update:model-value=\"$emit('update:newFile', $event)\"\n    />\n    <oxd-text class=\"orangehrm-input-hint\" tag=\"p\">{{ hint }}</oxd-text>\n  </div>\n</template>\n\n<script>\nimport {OxdIcon} from '@ohrm/oxd';\n\nexport default {\n  name: 'FileUploadInput',\n  components: {\n    'oxd-icon': OxdIcon,\n  },\n  inheritAttrs: false,\n  props: {\n    label: {\n      type: String,\n      default: '',\n    },\n    hint: {\n      type: String,\n      default: '',\n    },\n    url: {\n      type: [String, Function],\n      required: true,\n    },\n    method: {\n      type: String,\n      required: true,\n    },\n    file: {\n      type: Object,\n      required: false,\n      default: () => null,\n    },\n    newFile: {\n      type: Object,\n      required: false,\n      default: () => null,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    deletable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  emits: ['update:method', 'update:newFile'],\n  computed: {\n    fileSelected() {\n      return this.file && Object.keys(this.file).length > 0;\n    },\n    fieldLabel() {\n      return this.method === 'replaceCurrent' && this.fileSelected\n        ? this.$t('general.upload_n_file', {\n            fileName: this.label,\n          })\n        : this.label;\n    },\n  },\n  methods: {\n    downloadFile() {\n      let downUrl;\n      if (typeof this.url === 'function') {\n        downUrl = this.url(this.$props);\n      } else {\n        if (!this.file?.id) return;\n        downUrl = `${window.appGlobal.baseUrl}/${this.url}/${this.file.id}`;\n      }\n      window.open(downUrl, '_blank');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.orangehrm-file {\n  &-current {\n    display: flex;\n    margin-bottom: 1rem;\n  }\n  &-icon {\n    display: block;\n    font-size: 3rem;\n    margin-bottom: 0.5rem;\n  }\n  &-download {\n    font-size: 12px;\n    margin-left: 10px;\n    vertical-align: middle;\n  }\n  &-name {\n    display: block;\n    font-size: 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    word-break: break-word;\n  }\n  &-options {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n  }\n  &-preview {\n    padding: 0.5rem;\n    cursor: pointer;\n    min-height: 90px;\n    min-width: 150px;\n    text-align: center;\n    border-radius: 0.5rem;\n    margin-right: 1rem;\n    justify-content: center;\n    flex-direction: column;\n    display: flex;\n    align-items: center;\n    border: 1px solid $oxd-interface-gray-lighten-1-color;\n    background-color: $oxd-background-pastel-white-color;\n  }\n}\n\n::v-deep(.--label-right) {\n  flex-shrink: 0;\n  align-self: center;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}