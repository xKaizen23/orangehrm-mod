{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"orangehrm-background-container\"\n};\nconst _hoisted_2 = {\n  class: \"orangehrm-card-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_required_text = _resolveComponent(\"required-text\");\n  const _component_submit_button = _resolveComponent(\"submit-button\");\n  const _component_oxd_form_actions = _resolveComponent(\"oxd-form-actions\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_oxd_text, {\n    class: \"orangehrm-main-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('leave.work_week')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form, {\n    loading: $data.isLoading,\n    onSubmitValid: $options.onSave\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.monday,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.workWeek.monday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.monday,\n            label: _ctx.$t('general.monday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.tuesday,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.workWeek.tuesday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.tuesday,\n            label: _ctx.$t('general.tuesday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.wednesday,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.workWeek.wednesday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.wednesday,\n            label: _ctx.$t('general.wednesday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.thursday,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.workWeek.thursday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.thursday,\n            label: _ctx.$t('general.thursday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.friday,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.workWeek.friday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.friday,\n            label: _ctx.$t('general.friday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.saturday,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.workWeek.saturday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.saturday,\n            label: _ctx.$t('general.saturday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 4,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.workWeek.sunday,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.workWeek.sunday = $event),\n            type: \"select\",\n            options: $props.dayTypes,\n            rules: $data.rules.sunday,\n            label: _ctx.$t('general.sunday'),\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"options\", \"rules\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_actions, null, {\n      default: _withCtx(() => [_createVNode(_component_required_text), _createVNode(_component_submit_button)]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"loading\", \"onSubmitValid\"])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_oxd_text","_ctx","_component_oxd_divider","_component_oxd_form","loading","$data","onSubmitValid","$options","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_component_oxd_input_field","monday","type","options","$props","rules","label","required","tuesday","wednesday","thursday","friday","saturday","sunday","_component_oxd_form_actions","_component_required_text","_component_submit_button"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmLeavePlugin\\pages\\configure\\WorkWeek.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"orangehrm-background-container\">\n    <div class=\"orangehrm-card-container\">\n      <oxd-text class=\"orangehrm-main-title\">\n        {{ $t('leave.work_week') }}\n      </oxd-text>\n\n      <oxd-divider />\n\n      <oxd-form :loading=\"isLoading\" @submit-valid=\"onSave\">\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.monday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.monday\"\n                :label=\"$t('general.monday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.tuesday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.tuesday\"\n                :label=\"$t('general.tuesday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.wednesday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.wednesday\"\n                :label=\"$t('general.wednesday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.thursday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.thursday\"\n                :label=\"$t('general.thursday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.friday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.friday\"\n                :label=\"$t('general.friday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.saturday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.saturday\"\n                :label=\"$t('general.saturday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-form-row>\n          <oxd-grid :cols=\"4\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"workWeek.sunday\"\n                type=\"select\"\n                :options=\"dayTypes\"\n                :rules=\"rules.sunday\"\n                :label=\"$t('general.sunday')\"\n                required\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n        <oxd-divider />\n\n        <oxd-form-actions>\n          <required-text />\n          <submit-button />\n        </oxd-form-actions>\n      </oxd-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {APIService} from '@ohrm/core/util/services/api.service';\nimport {required} from '@/core/util/validation/rules';\n\nconst workWeekModel = {\n  monday: null,\n  tuesday: null,\n  wednesday: null,\n  thursday: null,\n  friday: null,\n  saturday: null,\n  sunday: null,\n};\n\nexport default {\n  props: {\n    dayTypes: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  setup() {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      '/api/v2/leave/workweek',\n    );\n    return {\n      http,\n    };\n  },\n  data() {\n    return {\n      isLoading: false,\n      workWeek: {...workWeekModel},\n      rules: {\n        monday: [required],\n        tuesday: [required],\n        wednesday: [required],\n        thursday: [required],\n        friday: [required],\n        saturday: [required],\n        sunday: [required],\n      },\n    };\n  },\n\n  beforeMount() {\n    this.isLoading = true;\n    this.http\n      .request({\n        method: 'GET',\n      })\n      .then((response) => {\n        const {data} = response.data;\n        this.workWeek.monday = this.dayTypes.find(\n          (dayType) => dayType.id === data.monday,\n        );\n        this.workWeek.tuesday = this.dayTypes.find(\n          (dayType) => dayType.id === data.tuesday,\n        );\n        this.workWeek.wednesday = this.dayTypes.find(\n          (dayType) => dayType.id === data.wednesday,\n        );\n        this.workWeek.thursday = this.dayTypes.find(\n          (dayType) => dayType.id === data.thursday,\n        );\n        this.workWeek.friday = this.dayTypes.find(\n          (dayType) => dayType.id === data.friday,\n        );\n        this.workWeek.saturday = this.dayTypes.find(\n          (dayType) => dayType.id === data.saturday,\n        );\n        this.workWeek.sunday = this.dayTypes.find(\n          (dayType) => dayType.id === data.sunday,\n        );\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  },\n\n  methods: {\n    onSave() {\n      // check if workweek contains at least one working day\n      const noWorkingDays = Object.values(this.workWeek).find(\n        (dayType) => dayType.id !== 8,\n      );\n\n      if (noWorkingDays === undefined) {\n        return this.$toast.warn({\n          title: this.$t('general.warning'),\n          message: this.$t('leave.at_least_one_day_should_be_a_working_day'),\n        });\n      }\n\n      this.isLoading = true;\n      this.http\n        .request({\n          method: 'PUT',\n          data: {\n            monday: this.workWeek.monday.id,\n            tuesday: this.workWeek.tuesday.id,\n            wednesday: this.workWeek.wednesday.id,\n            thursday: this.workWeek.thursday.id,\n            friday: this.workWeek.friday.id,\n            saturday: this.workWeek.saturday.id,\n            sunday: this.workWeek.sunday.id,\n          },\n        })\n        .then(() => {\n          this.$toast.saveSuccess();\n          this.isLoading = false;\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}