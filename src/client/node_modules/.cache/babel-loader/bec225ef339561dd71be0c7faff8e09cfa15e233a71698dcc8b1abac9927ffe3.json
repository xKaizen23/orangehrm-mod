{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6653c066\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"orangehrm-horizontal-padding orangehrm-vertical-padding\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_full_name_input = _resolveComponent(\"full-name-input\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_date_input = _resolveComponent(\"date-input\");\n  const _component_oxd_input_group = _resolveComponent(\"oxd-input-group\");\n  const _component_required_text = _resolveComponent(\"required-text\");\n  const _component_submit_button = _resolveComponent(\"submit-button\");\n  const _component_oxd_form_actions = _resolveComponent(\"oxd-form-actions\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  const _component_edit_employee_layout = _resolveComponent(\"edit-employee-layout\");\n  return _openBlock(), _createBlock(_component_edit_employee_layout, {\n    \"employee-id\": $props.empNumber,\n    screen: \"personal\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_oxd_text, {\n      tag: \"h6\",\n      class: \"orangehrm-main-title\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.personal_details')), 1)]),\n      _: 1\n    }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form, {\n      loading: $data.isLoading,\n      onSubmitValid: $options.onSave\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_form_row, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 1,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_full_name_input, {\n              firstName: $data.employee.firstName,\n              \"onUpdate:firstName\": _cache[0] || (_cache[0] = $event => $data.employee.firstName = $event),\n              middleName: $data.employee.middleName,\n              \"onUpdate:middleName\": _cache[1] || (_cache[1] = $event => $data.employee.middleName = $event),\n              lastName: $data.employee.lastName,\n              \"onUpdate:lastName\": _cache[2] || (_cache[2] = $event => $data.employee.lastName = $event),\n              rules: $data.rules\n            }, null, 8, [\"firstName\", \"middleName\", \"lastName\", \"rules\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), $props.showDeprecatedFields ? (_openBlock(), _createBlock(_component_oxd_grid, {\n          key: 0,\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.nickname,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.employee.nickname = $event),\n              label: _ctx.$t('pim.nickname'),\n              rules: $data.rules.nickname\n            }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n            _: 1\n          })]),\n          _: 1\n        })) : _createCommentVNode(\"\", true)]),\n        _: 1\n      }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_row, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.employeeId,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.employee.employeeId = $event),\n              label: _ctx.$t('general.employee_id'),\n              rules: $data.rules.employeeId,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.otherId,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.employee.otherId = $event),\n              label: _ctx.$t('pim.other_id'),\n              rules: $data.rules.otherId\n            }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.drivingLicenseNo,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.employee.drivingLicenseNo = $event),\n              label: _ctx.$t('pim.driver_license_number'),\n              rules: $data.rules.drivingLicenseNo,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_date_input, {\n              modelValue: $data.employee.drivingLicenseExpiredDate,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.employee.drivingLicenseExpiredDate = $event),\n              rules: $data.rules.drivingLicenseExpiredDate,\n              label: _ctx.$t('pim.license_expiry_date')\n            }, null, 8, [\"modelValue\", \"rules\", \"label\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [$props.showSsnField ? (_openBlock(), _createBlock(_component_oxd_grid_item, {\n            key: 0\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.ssnNumber,\n              \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.employee.ssnNumber = $event),\n              label: _ctx.$t('pim.ssn_number'),\n              rules: $data.rules.ssnNumber,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true), $props.showSinField ? (_openBlock(), _createBlock(_component_oxd_grid_item, {\n            key: 1\n          }, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.sinNumber,\n              \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.employee.sinNumber = $event),\n              label: _ctx.$t('pim.sin_number'),\n              rules: $data.rules.sinNumber,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true)]),\n          _: 1\n        })]),\n        _: 1\n      }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_row, null, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.nationality,\n              \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.employee.nationality = $event),\n              type: \"select\",\n              label: _ctx.$t('general.nationality'),\n              clear: false,\n              options: $props.nationalities\n            }, null, 8, [\"modelValue\", \"label\", \"options\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.maritalStatus,\n              \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.employee.maritalStatus = $event),\n              type: \"select\",\n              label: _ctx.$t('pim.marital_status'),\n              clear: false,\n              options: $data.maritalStatuses\n            }, null, 8, [\"modelValue\", \"label\", \"options\"])]),\n            _: 1\n          })]),\n          _: 1\n        }), _createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_date_input, {\n              modelValue: $data.employee.birthday,\n              \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.employee.birthday = $event),\n              label: _ctx.$t('pim.date_of_birth'),\n              rules: $data.rules.birthday,\n              disabled: !_ctx.$can.update(`personal_sensitive_information`)\n            }, null, 8, [\"modelValue\", \"label\", \"rules\", \"disabled\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_group, {\n              label: _ctx.$t('pim.gender'),\n              classes: {\n                wrapper: '--gender-grouped-field'\n              }\n            }, {\n              default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n                modelValue: $data.employee.gender,\n                \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.employee.gender = $event),\n                type: \"radio\",\n                \"option-label\": _ctx.$t('general.male'),\n                value: \"1\"\n              }, null, 8, [\"modelValue\", \"option-label\"]), _createVNode(_component_oxd_input_field, {\n                modelValue: $data.employee.gender,\n                \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.employee.gender = $event),\n                type: \"radio\",\n                \"option-label\": _ctx.$t('general.female'),\n                value: \"2\"\n              }, null, 8, [\"modelValue\", \"option-label\"])]),\n              _: 1\n            }, 8, [\"label\"])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      }), $props.showDeprecatedFields ? (_openBlock(), _createBlock(_component_oxd_divider, {\n        key: 0\n      })) : _createCommentVNode(\"\", true), $props.showDeprecatedFields ? (_openBlock(), _createBlock(_component_oxd_form_row, {\n        key: 1\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n          cols: 3,\n          class: \"orangehrm-full-width-grid\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.militaryService,\n              \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.employee.militaryService = $event),\n              label: _ctx.$t('pim.military_service'),\n              rules: $data.rules.militaryService\n            }, null, 8, [\"modelValue\", \"label\", \"rules\"])]),\n            _: 1\n          }), _createVNode(_component_oxd_grid_item, null, {\n            default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n              modelValue: $data.employee.smoker,\n              \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.employee.smoker = $event),\n              type: \"checkbox\",\n              label: _ctx.$t('pim.smoker'),\n              \"option-label\": _ctx.$t('general.yes')\n            }, null, 8, [\"modelValue\", \"label\", \"option-label\"])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_required_text), _createVNode(_component_submit_button)]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"loading\", \"onSubmitValid\"])])]),\n    _: 1\n  }, 8, [\"employee-id\"]);\n}","map":{"version":3,"mappings":"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","names":["class","_createBlock","_component_edit_employee_layout","$props","screen","_createElementVNode","_hoisted_1","_createVNode","_component_oxd_text","tag","_ctx","_component_oxd_divider","_component_oxd_form","loading","$data","onSubmitValid","$options","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_component_full_name_input","firstName","middleName","lastName","rules","_component_oxd_input_field","nickname","label","employeeId","disabled","update","otherId","drivingLicenseNo","_component_date_input","drivingLicenseExpiredDate","key","ssnNumber","sinNumber","nationality","type","clear","options","maritalStatus","birthday","_component_oxd_input_group","classes","wrapper","gender","value","militaryService","smoker","_component_oxd_form_actions","_component_required_text","_component_submit_button"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmPimPlugin\\pages\\employee\\EmployeePersonalDetails.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <edit-employee-layout :employee-id=\"empNumber\" screen=\"personal\">\n    <div class=\"orangehrm-horizontal-padding orangehrm-vertical-padding\">\n      <oxd-text tag=\"h6\" class=\"orangehrm-main-title\">\n        {{ $t('general.personal_details') }}\n      </oxd-text>\n      <oxd-divider />\n      <oxd-form :loading=\"isLoading\" @submit-valid=\"onSave\">\n        <oxd-form-row>\n          <oxd-grid :cols=\"1\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <full-name-input\n                v-model:firstName=\"employee.firstName\"\n                v-model:middleName=\"employee.middleName\"\n                v-model:lastName=\"employee.lastName\"\n                :rules=\"rules\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid\n            v-if=\"showDeprecatedFields\"\n            :cols=\"3\"\n            class=\"orangehrm-full-width-grid\"\n          >\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.nickname\"\n                :label=\"$t('pim.nickname')\"\n                :rules=\"rules.nickname\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n        <oxd-form-row>\n          <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.employeeId\"\n                :label=\"$t('general.employee_id')\"\n                :rules=\"rules.employeeId\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.otherId\"\n                :label=\"$t('pim.other_id')\"\n                :rules=\"rules.otherId\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.drivingLicenseNo\"\n                :label=\"$t('pim.driver_license_number')\"\n                :rules=\"rules.drivingLicenseNo\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <date-input\n                v-model=\"employee.drivingLicenseExpiredDate\"\n                :rules=\"rules.drivingLicenseExpiredDate\"\n                :label=\"$t('pim.license_expiry_date')\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item v-if=\"showSsnField\">\n              <oxd-input-field\n                v-model=\"employee.ssnNumber\"\n                :label=\"$t('pim.ssn_number')\"\n                :rules=\"rules.ssnNumber\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item v-if=\"showSinField\">\n              <oxd-input-field\n                v-model=\"employee.sinNumber\"\n                :label=\"$t('pim.sin_number')\"\n                :rules=\"rules.sinNumber\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n        <oxd-form-row>\n          <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.nationality\"\n                type=\"select\"\n                :label=\"$t('general.nationality')\"\n                :clear=\"false\"\n                :options=\"nationalities\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.maritalStatus\"\n                type=\"select\"\n                :label=\"$t('pim.marital_status')\"\n                :clear=\"false\"\n                :options=\"maritalStatuses\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n          <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <date-input\n                v-model=\"employee.birthday\"\n                :label=\"$t('pim.date_of_birth')\"\n                :rules=\"rules.birthday\"\n                :disabled=\"!$can.update(`personal_sensitive_information`)\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-group\n                :label=\"$t('pim.gender')\"\n                :classes=\"{wrapper: '--gender-grouped-field'}\"\n              >\n                <oxd-input-field\n                  v-model=\"employee.gender\"\n                  type=\"radio\"\n                  :option-label=\"$t('general.male')\"\n                  value=\"1\"\n                />\n                <oxd-input-field\n                  v-model=\"employee.gender\"\n                  type=\"radio\"\n                  :option-label=\"$t('general.female')\"\n                  value=\"2\"\n                />\n              </oxd-input-group>\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider v-if=\"showDeprecatedFields\" />\n        <oxd-form-row v-if=\"showDeprecatedFields\">\n          <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.militaryService\"\n                :label=\"$t('pim.military_service')\"\n                :rules=\"rules.militaryService\"\n              />\n            </oxd-grid-item>\n            <oxd-grid-item>\n              <oxd-input-field\n                v-model=\"employee.smoker\"\n                type=\"checkbox\"\n                :label=\"$t('pim.smoker')\"\n                :option-label=\"$t('general.yes')\"\n              />\n            </oxd-grid-item>\n          </oxd-grid>\n        </oxd-form-row>\n\n        <oxd-divider />\n        <oxd-form-actions>\n          <required-text />\n          <submit-button />\n        </oxd-form-actions>\n      </oxd-form>\n    </div>\n  </edit-employee-layout>\n</template>\n\n<script>\nimport {APIService} from '@ohrm/core/util/services/api.service';\nimport EditEmployeeLayout from '@/orangehrmPimPlugin/components/EditEmployeeLayout';\nimport FullNameInput from '@/orangehrmPimPlugin/components/FullNameInput';\nimport {\n  required,\n  shouldNotExceedCharLength,\n  validDateFormat,\n} from '@ohrm/core/util/validation/rules';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\n\nconst employeeModel = {\n  firstName: '',\n  middleName: '',\n  lastName: '',\n  employeeId: '',\n  otherId: '',\n  drivingLicenseNo: '',\n  drivingLicenseExpiredDate: '',\n  ssnNumber: '',\n  sinNumber: '',\n  nationality: [],\n  maritalStatus: [],\n  birthday: '',\n  gender: '',\n  nickname: '',\n  smoker: '',\n  militaryService: '',\n};\n\nexport default {\n  components: {\n    'edit-employee-layout': EditEmployeeLayout,\n    'full-name-input': FullNameInput,\n  },\n\n  props: {\n    empNumber: {\n      type: String,\n      required: true,\n    },\n    nationalities: {\n      type: Array,\n      default: () => [],\n    },\n    showDeprecatedFields: {\n      type: Boolean,\n      default: false,\n    },\n    showSsnField: {\n      type: Boolean,\n      default: false,\n    },\n    showSinField: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  setup(props) {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      `/api/v2/pim/employees/${props.empNumber}/personal-details`,\n    );\n    const {userDateFormat} = useDateFormat();\n\n    return {\n      http,\n      userDateFormat,\n    };\n  },\n\n  data() {\n    return {\n      isLoading: false,\n      employee: {...employeeModel},\n      rules: {\n        firstName: [required, shouldNotExceedCharLength(30)],\n        middleName: [shouldNotExceedCharLength(30)],\n        lastName: [required, shouldNotExceedCharLength(30)],\n        employeeId: [shouldNotExceedCharLength(10)],\n        otherId: [shouldNotExceedCharLength(30)],\n        drivingLicenseNo: [shouldNotExceedCharLength(30)],\n        ssnNumber: [shouldNotExceedCharLength(30)],\n        sinNumber: [shouldNotExceedCharLength(30)],\n        nickname: [shouldNotExceedCharLength(30)],\n        militaryService: [shouldNotExceedCharLength(30)],\n        birthday: [validDateFormat(this.userDateFormat)],\n        drivingLicenseExpiredDate: [validDateFormat(this.userDateFormat)],\n      },\n      maritalStatuses: [\n        {id: 'Single', label: this.$t('pim.single')},\n        {id: 'Married', label: this.$t('pim.married')},\n        {id: 'Other', label: this.$t('pim.other')},\n      ],\n    };\n  },\n\n  beforeMount() {\n    this.isLoading = true;\n    this.http\n      .getAll()\n      .then((response) => {\n        this.updateModel(response);\n        return this.http.request({\n          method: 'GET',\n          url: '/api/v2/pim/employees',\n        });\n      })\n      .then((response) => {\n        const {data} = response.data;\n        this.rules.employeeId.push((v) => {\n          const index = data.findIndex(\n            (item) =>\n              item.employeeId?.trim() &&\n              String(item.employeeId).toLowerCase() == String(v).toLowerCase(),\n          );\n          if (index > -1) {\n            const {empNumber} = data[index];\n            return empNumber != this.empNumber\n              ? this.$t('pim.employee_id_exists')\n              : true;\n          } else {\n            return true;\n          }\n        });\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  },\n\n  methods: {\n    onSave() {\n      this.isLoading = true;\n      this.http\n        .request({\n          method: 'PUT',\n          data: {\n            lastName: this.employee.lastName,\n            firstName: this.employee.firstName,\n            middleName: this.employee.middleName,\n            employeeId: this.employee.employeeId,\n            otherId: this.employee.otherId,\n            drivingLicenseNo: this.employee.drivingLicenseNo,\n            drivingLicenseExpiredDate: this.employee.drivingLicenseExpiredDate,\n            gender: this.employee.gender,\n            maritalStatus: this.employee.maritalStatus?.id,\n            birthday: this.employee.birthday,\n            nationalityId: this.employee.nationality?.id,\n            ssnNumber: this.showSsnField ? this.employee.ssnNumber : undefined,\n            sinNumber: this.showSinField ? this.employee.sinNumber : undefined,\n            nickname: this.showDeprecatedFields\n              ? this.employee.nickname\n              : undefined,\n            smoker: this.showDeprecatedFields\n              ? this.employee.smoker\n              : undefined,\n            militaryService: this.showDeprecatedFields\n              ? this.employee.militaryService\n              : undefined,\n          },\n        })\n        .then((response) => {\n          this.updateModel(response);\n          return this.$toast.updateSuccess();\n        })\n        .then(() => {\n          this.isLoading = false;\n        });\n    },\n\n    updateModel(response) {\n      const {data} = response.data;\n      this.employee = {...employeeModel, ...data};\n      this.employee.maritalStatus = this.maritalStatuses.find(\n        (item) => item.id === data.maritalStatus,\n      );\n      this.employee.nationality = this.nationalities.find(\n        (item) => item.id === data.nationality?.id,\n      );\n    },\n  },\n};\n</script>\n\n<style src=\"./employee.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}