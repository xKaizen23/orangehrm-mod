{"ast":null,"code":"import { OxdDialog } from '@ohrm/oxd';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport { formatDate, parseDate } from '@/core/util/helper/datefns';\nimport useLocale from '@/core/util/composable/useLocale';\nexport default {\n  name: 'LeaveBalanceModal',\n  components: {\n    'oxd-dialog': OxdDialog\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => null\n    },\n    meta: {\n      type: Object,\n      default: () => null\n    }\n  },\n  emits: ['close'],\n  setup() {\n    const {\n      jsDateFormat\n    } = useDateFormat();\n    const {\n      locale\n    } = useLocale();\n    return {\n      locale,\n      jsDateFormat\n    };\n  },\n  data() {\n    return {\n      headers: [{\n        title: this.$t('leave.leave_status'),\n        name: 'status',\n        slot: 'left',\n        style: {\n          flex: 1\n        }\n      }, {\n        title: this.$t('leave.days'),\n        name: 'days',\n        slot: 'right',\n        style: {\n          flex: 1,\n          textAlign: 'right',\n          justifyContent: 'flex-end'\n        }\n      }]\n    };\n  },\n  computed: {\n    items() {\n      if (this.data) {\n        const {\n          taken,\n          scheduled,\n          pending\n        } = this.data;\n        return [{\n          status: this.$t('leave.taken'),\n          days: taken.toFixed(2)\n        }, {\n          status: this.$t('leave.scheduled'),\n          days: scheduled.toFixed(2)\n        }, {\n          status: this.$t('leave.pending_approval'),\n          days: pending.toFixed(2)\n        }];\n      }\n      return [];\n    },\n    asAtDate() {\n      return formatDate(parseDate(this.data?.asAtDate), this.jsDateFormat, {\n        locale: this.locale\n      });\n    },\n    leaveType() {\n      return this.meta?.leaveType?.name;\n    },\n    employeeName() {\n      const employee = this.meta?.employee;\n      if (employee) {\n        return `${employee.firstName} ${employee.lastName}\n          ${employee.terminationId ? this.$t('general.past_employee') : ''}`;\n      }\n      return '';\n    },\n    totalEntitlement() {\n      return this.data?.entitled ? `${parseFloat(this.data.entitled).toFixed(2)} Day(s)` : '0.00 Day(s)';\n    },\n    leaveBalance() {\n      return this.data?.balance ? `${parseFloat(this.data.balance).toFixed(2)} Day(s)` : '0.00 Day(s)';\n    }\n  },\n  methods: {\n    onCancel() {\n      this.$emit('close', true);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["OxdDialog","useDateFormat","formatDate","parseDate","useLocale","name","components","props","data","type","Object","default","meta","emits","setup","jsDateFormat","locale","headers","title","$t","slot","style","flex","textAlign","justifyContent","computed","items","taken","scheduled","pending","status","days","toFixed","asAtDate","leaveType","employeeName","employee","firstName","lastName","terminationId","totalEntitlement","entitled","parseFloat","leaveBalance","balance","methods","onCancel","$emit"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmLeavePlugin\\components\\LeaveBalanceModal.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <oxd-dialog\n    :gutters=\"false\"\n    class=\"orangehrm-dialog-modal\"\n    @update:show=\"onCancel\"\n  >\n    <div class=\"orangehrm-dialog-header-container\">\n      <oxd-text tag=\"h6\" class=\"orangehrm-main-title\">\n        {{ $t('leave.leave_balance_details') }}\n      </oxd-text>\n      <oxd-text type=\"subtitle-2\">\n        {{ $t('leave.as_of_date') }} - {{ asAtDate }}\n      </oxd-text>\n    </div>\n    <oxd-divider\n      class=\"orangehrm-dialog-horizontal-margin orangehrm-clear-margins\"\n    />\n    <div class=\"orangehrm-horizontal-padding orangehrm-vertical-padding\">\n      <oxd-grid :cols=\"3\">\n        <oxd-grid-item>\n          <oxd-input-group :label=\"$t('general.employee_name')\">\n            <oxd-text class=\"orangehrm-leave-balance-text\" tag=\"p\">\n              {{ employeeName }}\n            </oxd-text>\n          </oxd-input-group>\n        </oxd-grid-item>\n        <oxd-grid-item>\n          <oxd-input-group\n            class=\"--offset-column-1\"\n            :label=\"$t('leave.leave_type')\"\n          >\n            <oxd-text class=\"orangehrm-leave-balance-text\" tag=\"p\">\n              {{ leaveType }}\n            </oxd-text>\n          </oxd-input-group>\n        </oxd-grid-item>\n        <oxd-grid-item>\n          <oxd-input-group :label=\"$t('leave.total_entitlement')\">\n            <oxd-text class=\"orangehrm-leave-balance-text\" tag=\"p\">\n              {{ totalEntitlement }}\n            </oxd-text>\n          </oxd-input-group>\n        </oxd-grid-item>\n        <oxd-grid-item>\n          <oxd-input-group :label=\"$t('leave.balance')\">\n            <oxd-text class=\"orangehrm-leave-balance-text\" tag=\"p\">\n              {{ leaveBalance }}\n            </oxd-text>\n          </oxd-input-group>\n        </oxd-grid-item>\n      </oxd-grid>\n    </div>\n    <div class=\"orangehrm-container\">\n      <oxd-card-table\n        :headers=\"headers\"\n        :items=\"items\"\n        :clickable=\"false\"\n        class=\"orangehrm-horizontal-padding\"\n        row-decorator=\"oxd-table-decorator-card\"\n      />\n    </div>\n    <div class=\"orangehrm-horizontal-padding orangehrm-vertical-padding\">\n      <oxd-form-actions>\n        <oxd-button\n          type=\"submit\"\n          display-type=\"secondary\"\n          :label=\"$t('general.ok')\"\n          @click=\"onCancel\"\n        />\n      </oxd-form-actions>\n    </div>\n  </oxd-dialog>\n</template>\n\n<script>\nimport {OxdDialog} from '@ohrm/oxd';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport {formatDate, parseDate} from '@/core/util/helper/datefns';\nimport useLocale from '@/core/util/composable/useLocale';\n\nexport default {\n  name: 'LeaveBalanceModal',\n  components: {\n    'oxd-dialog': OxdDialog,\n  },\n  props: {\n    data: {\n      type: Object,\n      default: () => null,\n    },\n    meta: {\n      type: Object,\n      default: () => null,\n    },\n  },\n  emits: ['close'],\n  setup() {\n    const {jsDateFormat} = useDateFormat();\n    const {locale} = useLocale();\n\n    return {\n      locale,\n      jsDateFormat,\n    };\n  },\n  data() {\n    return {\n      headers: [\n        {\n          title: this.$t('leave.leave_status'),\n          name: 'status',\n          slot: 'left',\n          style: {flex: 1},\n        },\n        {\n          title: this.$t('leave.days'),\n          name: 'days',\n          slot: 'right',\n          style: {\n            flex: 1,\n            textAlign: 'right',\n            justifyContent: 'flex-end',\n          },\n        },\n      ],\n    };\n  },\n  computed: {\n    items() {\n      if (this.data) {\n        const {taken, scheduled, pending} = this.data;\n        return [\n          {status: this.$t('leave.taken'), days: taken.toFixed(2)},\n          {status: this.$t('leave.scheduled'), days: scheduled.toFixed(2)},\n          {status: this.$t('leave.pending_approval'), days: pending.toFixed(2)},\n        ];\n      }\n      return [];\n    },\n    asAtDate() {\n      return formatDate(parseDate(this.data?.asAtDate), this.jsDateFormat, {\n        locale: this.locale,\n      });\n    },\n    leaveType() {\n      return this.meta?.leaveType?.name;\n    },\n    employeeName() {\n      const employee = this.meta?.employee;\n      if (employee) {\n        return `${employee.firstName} ${employee.lastName}\n          ${employee.terminationId ? this.$t('general.past_employee') : ''}`;\n      }\n      return '';\n    },\n    totalEntitlement() {\n      return this.data?.entitled\n        ? `${parseFloat(this.data.entitled).toFixed(2)} Day(s)`\n        : '0.00 Day(s)';\n    },\n    leaveBalance() {\n      return this.data?.balance\n        ? `${parseFloat(this.data.balance).toFixed(2)} Day(s)`\n        : '0.00 Day(s)';\n    },\n  },\n  methods: {\n    onCancel() {\n      this.$emit('close', true);\n    },\n  },\n};\n</script>\n\n<style src=\"./leave-balance-modal.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}