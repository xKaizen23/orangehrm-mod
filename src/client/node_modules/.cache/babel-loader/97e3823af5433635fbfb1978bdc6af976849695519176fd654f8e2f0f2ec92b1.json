{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, renderSlot as _renderSlot, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-30ad771e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"orangehrm-container\"\n};\nconst _hoisted_2 = {\n  class: \"orangehrm-card-container\"\n};\nconst _hoisted_3 = {\n  class: \"orangehrm-card-container-header\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"orangehrm-applicant-card-pre-tag\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"orangehrm-vacancy-card-footer\"\n};\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = {\n  class: \"orangehrm-applicant-container\"\n};\nconst _hoisted_10 = {\n  class: \"orangehrm-paper-container\"\n};\nconst _hoisted_11 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_full_name_input = _resolveComponent(\"full-name-input\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_required_text = _resolveComponent(\"required-text\");\n  const _component_oxd_button = _resolveComponent(\"oxd-button\");\n  const _component_submit_button = _resolveComponent(\"submit-button\");\n  const _component_oxd_form_actions = _resolveComponent(\"oxd-form-actions\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  const _component_success_dialogue = _resolveComponent(\"success-dialogue\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_oxd_text, {\n    class: \"orangehrm-main-title\",\n    tag: \"h6\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('recruitment.apply_for_n_vacancy', {\n      vacancyName: $data.vacancyName\n    })), 1)]),\n    _: 1\n  }), _createElementVNode(\"img\", {\n    class: \"oxd-brand-banner\",\n    src: $props.bannerSrc\n  }, null, 8, _hoisted_4)]), $data.vacancyDescription ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createVNode(_component_oxd_divider), _createVNode(_component_oxd_text, {\n    class: \"orangehrm-vacancy-description\",\n    tag: \"p\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.description')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: _normalizeClass($options.descriptionClasses)\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"pre\", _hoisted_5, _toDisplayString($data.vacancyDescription) + \"\\n        \", 1)]),\n    _: 1\n  }, 8, [\"class\"]), $data.vacancyDescription.length > $options.descriptionLength ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: \"orangehrm-vacancy-card-anchor-tag\",\n    onClick: $options.onToggleMore\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.isViewDetails ? _ctx.$t('general.show_less') : _ctx.$t('general.show_more')), 1)]),\n    _: 1\n  }, 8, [\"onClick\"])])) : _createCommentVNode(\"\", true)], 64)) : _createCommentVNode(\"\", true), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form, {\n    ref: \"applicantForm\",\n    method: \"post\",\n    enctype: \"multipart/form-data\",\n    loading: $data.isLoading,\n    action: $options.submitUrl,\n    onSubmitValid: $options.onSave\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"input\", {\n      name: \"_token\",\n      value: $props.token,\n      type: \"hidden\"\n    }, null, 8, _hoisted_7), _createElementVNode(\"input\", {\n      name: \"vacancyId\",\n      value: $props.vacancyId,\n      type: \"hidden\"\n    }, null, 8, _hoisted_8), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_oxd_form_row, {\n      class: \"orangehrm-applicant-container-row\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 1,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_full_name_input, {\n            firstName: $setup.applicant.firstName,\n            \"onUpdate:firstName\": _cache[0] || (_cache[0] = $event => $setup.applicant.firstName = $event),\n            lastName: $setup.applicant.lastName,\n            \"onUpdate:lastName\": _cache[1] || (_cache[1] = $event => $setup.applicant.lastName = $event),\n            middleName: $setup.applicant.middleName,\n            \"onUpdate:middleName\": _cache[2] || (_cache[2] = $event => $setup.applicant.middleName = $event),\n            label: _ctx.$t('general.full_name'),\n            rules: $data.rules,\n            required: \"\"\n          }, null, 8, [\"firstName\", \"lastName\", \"middleName\", \"label\", \"rules\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, {\n      class: \"orangehrm-applicant-container-row\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"orangehrm-applicant-container-colspan-2\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $setup.applicant.email,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.applicant.email = $event),\n            name: \"email\",\n            label: _ctx.$t('general.email'),\n            placeholder: _ctx.$t('general.type_here'),\n            rules: $data.rules.email,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"placeholder\", \"rules\"])]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $setup.applicant.contactNumber,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.applicant.contactNumber = $event),\n            name: \"contactNumber\",\n            label: _ctx.$t('recruitment.contact_number'),\n            placeholder: _ctx.$t('general.type_here'),\n            rules: $data.rules.contactNumber\n          }, null, 8, [\"modelValue\", \"label\", \"placeholder\", \"rules\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $setup.applicant.resume,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.applicant.resume = $event),\n            name: \"resume\",\n            type: \"file\",\n            label: _ctx.$t('recruitment.resume'),\n            \"button-label\": _ctx.$t('general.browse'),\n            rules: $data.rules.resume,\n            required: \"\"\n          }, null, 8, [\"modelValue\", \"label\", \"button-label\", \"rules\"]), _createVNode(_component_oxd_text, {\n            class: \"orangehrm-input-hint\",\n            tag: \"p\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('general.accept_custom_format_file_up_to_n_mb', {\n              count: $options.formattedFileSize\n            })), 1)]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"orangehrm-applicant-container-colspan-2\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $setup.applicant.keywords,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.applicant.keywords = $event),\n            name: \"keywords\",\n            label: _ctx.$t('recruitment.keywords'),\n            placeholder: `${_ctx.$t('recruitment.enter_comma_seperated_words')}...`,\n            rules: $data.rules.keywords\n          }, null, 8, [\"modelValue\", \"label\", \"placeholder\", \"rules\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"orangehrm-applicant-container-colspan-2\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $setup.applicant.comment,\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.applicant.comment = $event),\n            name: \"comment\",\n            label: _ctx.$t('general.notes'),\n            type: \"textarea\",\n            placeholder: _ctx.$t('general.type_here'),\n            rules: $data.rules.comment\n          }, null, 8, [\"modelValue\", \"label\", \"placeholder\", \"rules\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, {\n          class: \"orangehrm-applicant-container-colspan-2 orangehrm-applicant-container-grid-checkbox\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $setup.applicant.consentToKeepData,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.applicant.consentToKeepData = $event),\n            name: \"consentToKeepData\",\n            label: _ctx.$t('recruitment.consent_to_keep_data'),\n            type: \"checkbox\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form_actions, null, {\n      default: _withCtx(() => [_createVNode(_component_required_text), _createVNode(_component_oxd_button, {\n        label: _ctx.$t('general.back'),\n        \"display-type\": \"ghost\",\n        onClick: $options.onCancel\n      }, null, 8, [\"label\", \"onClick\"]), _createVNode(_component_submit_button, {\n        label: _ctx.$t('general.submit')\n      }, null, 8, [\"label\"])]),\n      _: 1\n    })])]),\n    _: 1\n  }, 8, [\"loading\", \"action\", \"onSubmitValid\"])])]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: \"orangehrm-vacancy-list-poweredby\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('recruitment.powered_by')), 1)]),\n    _: 1\n  }), _createElementVNode(\"img\", {\n    src: $setup.defaultPic,\n    alt: \"OrangeHRM Picture\",\n    class: \"orangehrm-container-img\"\n  }, null, 8, _hoisted_11), _renderSlot(_ctx.$slots, \"footer\", {}, undefined, true)]), _createVNode(_component_success_dialogue, {\n    ref: \"showDialogueModal\"\n  }, null, 512)], 64);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_oxd_text","tag","_ctx","$data","src","$props","_createElementBlock","_Fragment","key","_component_oxd_divider","$options","length","_hoisted_6","onClick","_component_oxd_form","ref","method","enctype","loading","action","onSubmitValid","name","value","type","_hoisted_9","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_component_full_name_input","firstName","$setup","lastName","middleName","label","rules","required","_component_oxd_input_field","email","placeholder","contactNumber","resume","keywords","comment","consentToKeepData","_component_oxd_form_actions","_component_required_text","_component_oxd_button","_component_submit_button","_hoisted_10","alt","_renderSlot","_component_success_dialogue"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmRecruitmentPlugin\\pages\\ApplyJobVacancy.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"orangehrm-container\">\n    <div class=\"orangehrm-card-container\">\n      <div class=\"orangehrm-card-container-header\">\n        <oxd-text class=\"orangehrm-main-title\" tag=\"h6\">\n          {{\n            $t('recruitment.apply_for_n_vacancy', {\n              vacancyName: vacancyName,\n            })\n          }}\n        </oxd-text>\n        <img class=\"oxd-brand-banner\" :src=\"bannerSrc\" />\n      </div>\n      <template v-if=\"vacancyDescription\">\n        <oxd-divider />\n        <oxd-text class=\"orangehrm-vacancy-description\" tag=\"p\">\n          {{ $t('general.description') }}\n        </oxd-text>\n        <oxd-text tag=\"p\" :class=\"descriptionClasses\">\n          <pre class=\"orangehrm-applicant-card-pre-tag\"\n            >{{ vacancyDescription }}\n        </pre\n          >\n        </oxd-text>\n        <div\n          v-if=\"vacancyDescription.length > descriptionLength\"\n          class=\"orangehrm-vacancy-card-footer\"\n        >\n          <oxd-text\n            tag=\"p\"\n            class=\"orangehrm-vacancy-card-anchor-tag\"\n            @click=\"onToggleMore\"\n          >\n            {{\n              isViewDetails ? $t('general.show_less') : $t('general.show_more')\n            }}\n          </oxd-text>\n        </div>\n      </template>\n      <oxd-divider />\n      <oxd-form\n        ref=\"applicantForm\"\n        method=\"post\"\n        enctype=\"multipart/form-data\"\n        :loading=\"isLoading\"\n        :action=\"submitUrl\"\n        @submit-valid=\"onSave\"\n      >\n        <input name=\"_token\" :value=\"token\" type=\"hidden\" />\n        <input name=\"vacancyId\" :value=\"vacancyId\" type=\"hidden\" />\n        <div class=\"orangehrm-applicant-container\">\n          <oxd-form-row class=\"orangehrm-applicant-container-row\">\n            <oxd-grid :cols=\"1\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item>\n                <full-name-input\n                  v-model:firstName=\"applicant.firstName\"\n                  v-model:lastName=\"applicant.lastName\"\n                  v-model:middleName=\"applicant.middleName\"\n                  :label=\"$t('general.full_name')\"\n                  :rules=\"rules\"\n                  required\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row class=\"orangehrm-applicant-container-row\">\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item class=\"orangehrm-applicant-container-colspan-2\">\n                <oxd-input-field\n                  v-model=\"applicant.email\"\n                  name=\"email\"\n                  :label=\"$t('general.email')\"\n                  :placeholder=\"$t('general.type_here')\"\n                  :rules=\"rules.email\"\n                  required\n                />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"applicant.contactNumber\"\n                  name=\"contactNumber\"\n                  :label=\"$t('recruitment.contact_number')\"\n                  :placeholder=\"$t('general.type_here')\"\n                  :rules=\"rules.contactNumber\"\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"applicant.resume\"\n                  name=\"resume\"\n                  type=\"file\"\n                  :label=\"$t('recruitment.resume')\"\n                  :button-label=\"$t('general.browse')\"\n                  :rules=\"rules.resume\"\n                  required\n                />\n                <oxd-text class=\"orangehrm-input-hint\" tag=\"p\">\n                  {{\n                    $t('general.accept_custom_format_file_up_to_n_mb', {\n                      count: formattedFileSize,\n                    })\n                  }}\n                </oxd-text>\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item class=\"orangehrm-applicant-container-colspan-2\">\n                <oxd-input-field\n                  v-model=\"applicant.keywords\"\n                  name=\"keywords\"\n                  :label=\"$t('recruitment.keywords')\"\n                  :placeholder=\"`${$t(\n                    'recruitment.enter_comma_seperated_words',\n                  )}...`\"\n                  :rules=\"rules.keywords\"\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item class=\"orangehrm-applicant-container-colspan-2\">\n                <oxd-input-field\n                  v-model=\"applicant.comment\"\n                  name=\"comment\"\n                  :label=\"$t('general.notes')\"\n                  type=\"textarea\"\n                  :placeholder=\"$t('general.type_here')\"\n                  :rules=\"rules.comment\"\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item\n                class=\"orangehrm-applicant-container-colspan-2 orangehrm-applicant-container-grid-checkbox\"\n              >\n                <oxd-input-field\n                  v-model=\"applicant.consentToKeepData\"\n                  name=\"consentToKeepData\"\n                  :label=\"$t('recruitment.consent_to_keep_data')\"\n                  type=\"checkbox\"\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-divider />\n          <oxd-form-actions>\n            <required-text />\n            <oxd-button\n              :label=\"$t('general.back')\"\n              display-type=\"ghost\"\n              @click=\"onCancel\"\n            />\n            <submit-button :label=\"$t('general.submit')\" />\n          </oxd-form-actions>\n        </div>\n      </oxd-form>\n    </div>\n  </div>\n  <div class=\"orangehrm-paper-container\">\n    <oxd-text tag=\"p\" class=\"orangehrm-vacancy-list-poweredby\">\n      {{ $t('recruitment.powered_by') }}\n    </oxd-text>\n    <img\n      :src=\"defaultPic\"\n      alt=\"OrangeHRM Picture\"\n      class=\"orangehrm-container-img\"\n    />\n    <slot name=\"footer\"></slot>\n  </div>\n  <success-dialogue ref=\"showDialogueModal\"></success-dialogue>\n</template>\n\n<script>\nimport {ref, toRefs} from 'vue';\nimport FullNameInput from '@/orangehrmPimPlugin/components/FullNameInput';\nimport SuccessDialog from '@/orangehrmRecruitmentPlugin/components/SuccessDialog';\nimport {\n  maxFileSize,\n  required,\n  shouldNotExceedCharLength,\n  validEmailFormat,\n  validFileTypes,\n  validPhoneNumberFormat,\n} from '@ohrm/core/util/validation/rules';\nimport SubmitButton from '@/core/components/buttons/SubmitButton';\nimport {navigate} from '@/core/util/helper/navigation';\nimport {APIService} from '@/core/util/services/api.service';\nimport {urlFor} from '@/core/util/helper/url';\nimport {useResponsive} from '@ohrm/oxd';\n\nconst applicantModel = {\n  firstName: '',\n  middleName: '',\n  lastName: '',\n  contactNumber: '',\n  email: '',\n  consentToKeepData: false,\n  resume: null,\n  keywords: null,\n  comment: null,\n};\n\nexport default {\n  name: 'ApplyJobVacancy',\n  components: {\n    'submit-button': SubmitButton,\n    'full-name-input': FullNameInput,\n    'success-dialogue': SuccessDialog,\n  },\n  props: {\n    allowedFileTypes: {\n      type: Array,\n      required: true,\n    },\n    maxFileSize: {\n      type: Number,\n      required: true,\n    },\n    vacancyId: {\n      type: Number,\n      required: true,\n    },\n    success: {\n      type: Boolean,\n      default: false,\n    },\n    bannerSrc: {\n      type: String,\n      required: true,\n    },\n    token: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const defaultPic = `${window.appGlobal.publicPath}/images/ohrm_branding.png`;\n    const applicant = ref({\n      ...applicantModel,\n    });\n    const responsiveState = useResponsive();\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      '/api/v2/recruitment/public/vacancies',\n    );\n\n    return {\n      http,\n      applicant,\n      defaultPic,\n      ...toRefs(responsiveState),\n    };\n  },\n  data() {\n    return {\n      title: null,\n      subtitle: null,\n      successLabel: null,\n      isLoading: false,\n      vacancyName: '',\n      vacancyDescription: null,\n      rules: {\n        firstName: [required, shouldNotExceedCharLength(30)],\n        middleName: [shouldNotExceedCharLength(30)],\n        lastName: [required, shouldNotExceedCharLength(30)],\n        resume: [\n          required,\n          maxFileSize(this.maxFileSize),\n          validFileTypes(this.allowedFileTypes),\n        ],\n        comment: [shouldNotExceedCharLength(250)],\n        keywords: [shouldNotExceedCharLength(250)],\n        contactNumber: [shouldNotExceedCharLength(25), validPhoneNumberFormat],\n        email: [required, validEmailFormat, shouldNotExceedCharLength(50)],\n      },\n      isViewDetails: true,\n    };\n  },\n  computed: {\n    submitUrl() {\n      return urlFor('/recruitment/public/applicants');\n    },\n    descriptionClasses() {\n      return {\n        'orangehrm-vacancy-description': true,\n        'orangehrm-vacancy-card-body': !this.isViewDetails,\n      };\n    },\n    isMobile() {\n      return this.windowWidth < 600;\n    },\n    descriptionLength() {\n      if (this.isMobile) return 150;\n      return this.windowWidth < 1920 ? 250 : 400;\n    },\n    formattedFileSize() {\n      return Math.round((this.maxFileSize / (1024 * 1024)) * 100) / 100;\n    },\n  },\n  beforeMount() {\n    this.http.get(this.vacancyId).then((response) => {\n      const {data} = response.data;\n      this.vacancyName = data?.name ?? '';\n      this.vacancyDescription = data?.description;\n    });\n  },\n  mounted() {\n    if (this.success) {\n      this.showDialogue();\n    }\n  },\n  methods: {\n    onSave() {\n      this.$refs.applicantForm.$el.submit();\n    },\n    onCancel() {\n      navigate('/recruitmentApply/jobs.html');\n    },\n    showDialogue() {\n      this.$refs.showDialogueModal.showSuccessDialog().then((confirmation) => {\n        if (confirmation === 'ok') {\n          navigate('/recruitmentApply/jobs.html');\n        }\n      });\n    },\n    onToggleMore() {\n      this.isViewDetails = !this.isViewDetails;\n    },\n  },\n};\n</script>\n\n<style src=\"./public-job-vacancy.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}