{"ast":null,"code":"import { OxdTabPanel, DEVICE_TYPES, useResponsive, OxdTabContainer } from '@ohrm/oxd';\nimport { computed, ref } from 'vue';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useSwipe from '@/core/util/composable/useSwipe';\nimport NewsFeed from '@/orangehrmBuzzPlugin/components/NewsFeed.vue';\nimport PostFilters from '@/orangehrmBuzzPlugin/components/PostFilters.vue';\nimport UpcomingAnniversaries from '@/orangehrmBuzzPlugin/components/UpcomingAnniversaries.vue';\nexport default {\n  components: {\n    'news-feed': NewsFeed,\n    'oxd-tab-panel': OxdTabPanel,\n    'post-filters': PostFilters,\n    'oxd-tab-container': OxdTabContainer,\n    'upcoming-anniversaries': UpcomingAnniversaries\n  },\n  props: {\n    employee: {\n      type: Object,\n      required: true\n    }\n  },\n  setup() {\n    const {\n      $t\n    } = usei18n();\n    const tabSelector = ref(null);\n    const responsiveState = useResponsive();\n    const sortField = ref('share.createdAtUtc');\n    const isMobile = computed(() => {\n      return !(responsiveState.screenType === DEVICE_TYPES.DEVICE_LG || responsiveState.screenType === DEVICE_TYPES.DEVICE_XL);\n    });\n    const width = computed(() => responsiveState.windowWidth);\n    const {\n      swipeContainer\n    } = useSwipe($event => {\n      const direction = $event.offsetDirection;\n      // swipe right\n      if (direction === 2) {\n        tabSelector.value = $t('buzz.upcoming_anniversaries');\n      }\n\n      // swipe left\n      if (direction === 4) {\n        tabSelector.value = $t('buzz.buzz_newsfeed');\n      }\n    });\n    const onUpdatePriority = $event => {\n      if ($event) sortField.value = $event;\n    };\n    return {\n      width,\n      isMobile,\n      sortField,\n      tabSelector,\n      onUpdatePriority,\n      swipeRef: swipeContainer\n    };\n  }\n};","map":{"version":3,"mappings":"AA0EA,SACEA,WAAW,EACXC,YAAY,EACZC,aAAa,EACbC,eAAe,QACV,WAAW;AAClB,SAAQC,QAAQ,EAAEC,GAAG,QAAO,KAAK;AACjC,OAAOC,OAAM,MAAO,gCAAgC;AACpD,OAAOC,QAAO,MAAO,iCAAiC;AACtD,OAAOC,QAAO,MAAO,+CAA+C;AACpE,OAAOC,WAAU,MAAO,kDAAkD;AAC1E,OAAOC,qBAAoB,MAAO,4DAA4D;AAE9F,eAAe;EACbC,UAAU,EAAE;IACV,WAAW,EAAEH,QAAQ;IACrB,eAAe,EAAER,WAAW;IAC5B,cAAc,EAAES,WAAW;IAC3B,mBAAmB,EAAEN,eAAe;IACpC,wBAAwB,EAAEO;EAC5B,CAAC;EAEDE,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EAEDC,KAAK,GAAG;IACN,MAAM;MAACC;IAAE,IAAIZ,OAAO,EAAE;IACtB,MAAMa,WAAU,GAAId,GAAG,CAAC,IAAI,CAAC;IAC7B,MAAMe,eAAc,GAAIlB,aAAa,EAAE;IACvC,MAAMmB,SAAQ,GAAIhB,GAAG,CAAC,oBAAoB,CAAC;IAE3C,MAAMiB,QAAO,GAAIlB,QAAQ,CAAC,MAAM;MAC9B,OAAO,EACLgB,eAAe,CAACG,UAAS,KAAMtB,YAAY,CAACuB,SAAQ,IACpDJ,eAAe,CAACG,UAAS,KAAMtB,YAAY,CAACwB,SAAQ,CACrD;IACH,CAAC,CAAC;IAEF,MAAMC,KAAI,GAAItB,QAAQ,CAAC,MAAMgB,eAAe,CAACO,WAAW,CAAC;IAEzD,MAAM;MAACC;IAAc,IAAIrB,QAAQ,CAAEsB,MAAM,IAAK;MAC5C,MAAMC,SAAQ,GAAID,MAAM,CAACE,eAAe;MACxC;MACA,IAAID,SAAQ,KAAM,CAAC,EAAE;QACnBX,WAAW,CAACa,KAAI,GAAId,EAAE,CAAC,6BAA6B,CAAC;MACvD;;MAEA;MACA,IAAIY,SAAQ,KAAM,CAAC,EAAE;QACnBX,WAAW,CAACa,KAAI,GAAId,EAAE,CAAC,oBAAoB,CAAC;MAC9C;IACF,CAAC,CAAC;IAEF,MAAMe,gBAAe,GAAKJ,MAAM,IAAK;MACnC,IAAIA,MAAM,EAAER,SAAS,CAACW,KAAI,GAAIH,MAAM;IACtC,CAAC;IAED,OAAO;MACLH,KAAK;MACLJ,QAAQ;MACRD,SAAS;MACTF,WAAW;MACXc,gBAAgB;MAChBC,QAAQ,EAAEN;IACZ,CAAC;EACH;AACF,CAAC","names":["OxdTabPanel","DEVICE_TYPES","useResponsive","OxdTabContainer","computed","ref","usei18n","useSwipe","NewsFeed","PostFilters","UpcomingAnniversaries","components","props","employee","type","Object","required","setup","$t","tabSelector","responsiveState","sortField","isMobile","screenType","DEVICE_LG","DEVICE_XL","width","windowWidth","swipeContainer","$event","direction","offsetDirection","value","onUpdatePriority","swipeRef"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmBuzzPlugin\\pages\\ViewBuzz.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <!-- Mobile -->\n  <template v-if=\"isMobile\">\n    <oxd-tab-container ref=\"swipeRef\" v-model=\"tabSelector\" :keep-alive=\"true\">\n      <oxd-tab-panel key=\"buzz_newsfeed\" :name=\"$t('buzz.buzz_newsfeed')\">\n        <news-feed :mobile=\"true\" :employee=\"employee\" :sort-field=\"sortField\">\n          <post-filters\n            :mobile=\"true\"\n            :filter=\"sortField\"\n            @update-priority=\"onUpdatePriority\"\n          ></post-filters>\n        </news-feed>\n      </oxd-tab-panel>\n      <oxd-tab-panel\n        key=\"buzz_anniversary\"\n        :name=\"$t('buzz.upcoming_anniversaries')\"\n      >\n        <upcoming-anniversaries></upcoming-anniversaries>\n      </oxd-tab-panel>\n    </oxd-tab-container>\n  </template>\n\n  <!-- Medium Res -->\n  <oxd-grid v-else-if=\"width < 1920\" :cols=\"2\" class=\"orangehrm-buzz-layout\">\n    <oxd-grid-item>\n      <news-feed :employee=\"employee\" :sort-field=\"sortField\">\n        <post-filters\n          :filter=\"sortField\"\n          @update-priority=\"onUpdatePriority\"\n        ></post-filters>\n      </news-feed>\n    </oxd-grid-item>\n    <oxd-grid-item>\n      <upcoming-anniversaries></upcoming-anniversaries>\n    </oxd-grid-item>\n  </oxd-grid>\n\n  <!-- High Res -->\n  <oxd-grid v-else :cols=\"3\" class=\"orangehrm-buzz-layout\">\n    <oxd-grid-item>\n      <post-filters\n        :filter=\"sortField\"\n        @update-priority=\"onUpdatePriority\"\n      ></post-filters>\n    </oxd-grid-item>\n    <oxd-grid-item>\n      <news-feed :employee=\"employee\" :sort-field=\"sortField\"></news-feed>\n    </oxd-grid-item>\n    <oxd-grid-item>\n      <upcoming-anniversaries></upcoming-anniversaries>\n    </oxd-grid-item>\n  </oxd-grid>\n</template>\n\n<script>\nimport {\n  OxdTabPanel,\n  DEVICE_TYPES,\n  useResponsive,\n  OxdTabContainer,\n} from '@ohrm/oxd';\nimport {computed, ref} from 'vue';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useSwipe from '@/core/util/composable/useSwipe';\nimport NewsFeed from '@/orangehrmBuzzPlugin/components/NewsFeed.vue';\nimport PostFilters from '@/orangehrmBuzzPlugin/components/PostFilters.vue';\nimport UpcomingAnniversaries from '@/orangehrmBuzzPlugin/components/UpcomingAnniversaries.vue';\n\nexport default {\n  components: {\n    'news-feed': NewsFeed,\n    'oxd-tab-panel': OxdTabPanel,\n    'post-filters': PostFilters,\n    'oxd-tab-container': OxdTabContainer,\n    'upcoming-anniversaries': UpcomingAnniversaries,\n  },\n\n  props: {\n    employee: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const {$t} = usei18n();\n    const tabSelector = ref(null);\n    const responsiveState = useResponsive();\n    const sortField = ref('share.createdAtUtc');\n\n    const isMobile = computed(() => {\n      return !(\n        responsiveState.screenType === DEVICE_TYPES.DEVICE_LG ||\n        responsiveState.screenType === DEVICE_TYPES.DEVICE_XL\n      );\n    });\n\n    const width = computed(() => responsiveState.windowWidth);\n\n    const {swipeContainer} = useSwipe(($event) => {\n      const direction = $event.offsetDirection;\n      // swipe right\n      if (direction === 2) {\n        tabSelector.value = $t('buzz.upcoming_anniversaries');\n      }\n\n      // swipe left\n      if (direction === 4) {\n        tabSelector.value = $t('buzz.buzz_newsfeed');\n      }\n    });\n\n    const onUpdatePriority = ($event) => {\n      if ($event) sortField.value = $event;\n    };\n\n    return {\n      width,\n      isMobile,\n      sortField,\n      tabSelector,\n      onUpdatePriority,\n      swipeRef: swipeContainer,\n    };\n  },\n};\n</script>\n\n<style src=\"./view-buzz.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}