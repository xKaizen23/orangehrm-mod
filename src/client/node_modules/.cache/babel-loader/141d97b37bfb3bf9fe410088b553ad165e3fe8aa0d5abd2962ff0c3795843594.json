{"ast":null,"code":"import { OxdIcon } from '@ohrm/oxd';\nexport default {\n  name: 'FileUploadInput',\n  components: {\n    'oxd-icon': OxdIcon\n  },\n  inheritAttrs: false,\n  props: {\n    label: {\n      type: String,\n      default: ''\n    },\n    hint: {\n      type: String,\n      default: ''\n    },\n    url: {\n      type: [String, Function],\n      required: true\n    },\n    method: {\n      type: String,\n      required: true\n    },\n    file: {\n      type: Object,\n      required: false,\n      default: () => null\n    },\n    newFile: {\n      type: Object,\n      required: false,\n      default: () => null\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    deletable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['update:method', 'update:newFile'],\n  computed: {\n    fileSelected() {\n      return this.file && Object.keys(this.file).length > 0;\n    },\n    fieldLabel() {\n      return this.method === 'replaceCurrent' && this.fileSelected ? this.$t('general.upload_n_file', {\n        fileName: this.label\n      }) : this.label;\n    }\n  },\n  methods: {\n    downloadFile() {\n      let downUrl;\n      if (typeof this.url === 'function') {\n        downUrl = this.url(this.$props);\n      } else {\n        if (!this.file?.id) return;\n        downUrl = `${window.appGlobal.baseUrl}/${this.url}/${this.file.id}`;\n      }\n      window.open(downUrl, '_blank');\n    }\n  }\n};","map":{"version":3,"mappings":"AA0EA,SAAQA,OAAO,QAAO,WAAW;AAEjC,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE;IACV,UAAU,EAAEF;EACd,CAAC;EACDG,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,IAAI,EAAE;MACJH,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDE,GAAG,EAAE;MACHJ,IAAI,EAAE,CAACC,MAAM,EAAEI,QAAQ,CAAC;MACxBC,QAAQ,EAAE;IACZ,CAAC;IACDC,MAAM,EAAE;MACNP,IAAI,EAAEC,MAAM;MACZK,QAAQ,EAAE;IACZ,CAAC;IACDE,IAAI,EAAE;MACJR,IAAI,EAAES,MAAM;MACZH,QAAQ,EAAE,KAAK;MACfJ,OAAO,EAAE,MAAM;IACjB,CAAC;IACDQ,OAAO,EAAE;MACPV,IAAI,EAAES,MAAM;MACZH,QAAQ,EAAE,KAAK;MACfJ,OAAO,EAAE,MAAM;IACjB,CAAC;IACDS,QAAQ,EAAE;MACRX,IAAI,EAAEY,OAAO;MACbV,OAAO,EAAE;IACX,CAAC;IACDW,SAAS,EAAE;MACTb,IAAI,EAAEY,OAAO;MACbV,OAAO,EAAE;IACX;EACF,CAAC;EACDY,KAAK,EAAE,CAAC,eAAe,EAAE,gBAAgB,CAAC;EAC1CC,QAAQ,EAAE;IACRC,YAAY,GAAG;MACb,OAAO,IAAI,CAACR,IAAG,IAAKC,MAAM,CAACQ,IAAI,CAAC,IAAI,CAACT,IAAI,CAAC,CAACU,MAAK,GAAI,CAAC;IACvD,CAAC;IACDC,UAAU,GAAG;MACX,OAAO,IAAI,CAACZ,MAAK,KAAM,gBAAe,IAAK,IAAI,CAACS,YAAW,GACvD,IAAI,CAACI,EAAE,CAAC,uBAAuB,EAAE;QAC/BC,QAAQ,EAAE,IAAI,CAACtB;MACjB,CAAC,IACD,IAAI,CAACA,KAAK;IAChB;EACF,CAAC;EACDuB,OAAO,EAAE;IACPC,YAAY,GAAG;MACb,IAAIC,OAAO;MACX,IAAI,OAAO,IAAI,CAACpB,GAAE,KAAM,UAAU,EAAE;QAClCoB,OAAM,GAAI,IAAI,CAACpB,GAAG,CAAC,IAAI,CAACqB,MAAM,CAAC;MACjC,OAAO;QACL,IAAI,CAAC,IAAI,CAACjB,IAAI,EAAEkB,EAAE,EAAE;QACpBF,OAAM,GAAK,GAAEG,MAAM,CAACC,SAAS,CAACC,OAAQ,IAAG,IAAI,CAACzB,GAAI,IAAG,IAAI,CAACI,IAAI,CAACkB,EAAG,EAAC;MACrE;MACAC,MAAM,CAACG,IAAI,CAACN,OAAO,EAAE,QAAQ,CAAC;IAChC;EACF;AACF,CAAC","names":["OxdIcon","name","components","inheritAttrs","props","label","type","String","default","hint","url","Function","required","method","file","Object","newFile","disabled","Boolean","deletable","emits","computed","fileSelected","keys","length","fieldLabel","$t","fileName","methods","downloadFile","downUrl","$props","id","window","appGlobal","baseUrl","open"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\core\\components\\inputs\\FileUploadInput.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <!-- Always use inside OXD-Form -->\n  <oxd-input-group v-if=\"fileSelected\" :label=\"label\">\n    <div class=\"orangehrm-file-current\">\n      <div class=\"orangehrm-file-preview\" @click=\"downloadFile\">\n        <oxd-icon class=\"orangehrm-file-icon\" name=\"file-earmark-text\" />\n        <oxd-text class=\"orangehrm-file-name\" tag=\"p\" :title=\"file.filename\">\n          {{ file.filename }}\n          <oxd-icon class=\"orangehrm-file-download\" name=\"download\" />\n        </oxd-text>\n      </div>\n      <div v-if=\"!disabled\" class=\"orangehrm-file-options\">\n        <oxd-input-field\n          type=\"radio\"\n          :option-label=\"$t('general.keep_current')\"\n          value=\"keepCurrent\"\n          :model-value=\"method\"\n          @update:model-value=\"$emit('update:method', $event)\"\n        />\n        <oxd-input-field\n          v-if=\"deletable\"\n          type=\"radio\"\n          :option-label=\"$t('general.delete_current')\"\n          value=\"deleteCurrent\"\n          :model-value=\"method\"\n          @update:model-value=\"$emit('update:method', $event)\"\n        />\n        <oxd-input-field\n          type=\"radio\"\n          :option-label=\"$t('general.replace_current')\"\n          value=\"replaceCurrent\"\n          :model-value=\"method\"\n          @update:model-value=\"$emit('update:method', $event)\"\n        />\n      </div>\n    </div>\n  </oxd-input-group>\n  <div\n    v-if=\"method === 'replaceCurrent' || !fileSelected\"\n    class=\"orangehrm-file-input\"\n  >\n    <oxd-input-field\n      v-bind=\"$attrs\"\n      type=\"file\"\n      :label=\"fieldLabel\"\n      :model-value=\"newFile\"\n      :disabled=\"disabled\"\n      :placeholder=\"$t('general.no_file_selected')\"\n      @update:model-value=\"$emit('update:newFile', $event)\"\n    />\n    <oxd-text class=\"orangehrm-input-hint\" tag=\"p\">{{ hint }}</oxd-text>\n  </div>\n</template>\n\n<script>\nimport {OxdIcon} from '@ohrm/oxd';\n\nexport default {\n  name: 'FileUploadInput',\n  components: {\n    'oxd-icon': OxdIcon,\n  },\n  inheritAttrs: false,\n  props: {\n    label: {\n      type: String,\n      default: '',\n    },\n    hint: {\n      type: String,\n      default: '',\n    },\n    url: {\n      type: [String, Function],\n      required: true,\n    },\n    method: {\n      type: String,\n      required: true,\n    },\n    file: {\n      type: Object,\n      required: false,\n      default: () => null,\n    },\n    newFile: {\n      type: Object,\n      required: false,\n      default: () => null,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    deletable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  emits: ['update:method', 'update:newFile'],\n  computed: {\n    fileSelected() {\n      return this.file && Object.keys(this.file).length > 0;\n    },\n    fieldLabel() {\n      return this.method === 'replaceCurrent' && this.fileSelected\n        ? this.$t('general.upload_n_file', {\n            fileName: this.label,\n          })\n        : this.label;\n    },\n  },\n  methods: {\n    downloadFile() {\n      let downUrl;\n      if (typeof this.url === 'function') {\n        downUrl = this.url(this.$props);\n      } else {\n        if (!this.file?.id) return;\n        downUrl = `${window.appGlobal.baseUrl}/${this.url}/${this.file.id}`;\n      }\n      window.open(downUrl, '_blank');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.orangehrm-file {\n  &-current {\n    display: flex;\n    margin-bottom: 1rem;\n  }\n  &-icon {\n    display: block;\n    font-size: 3rem;\n    margin-bottom: 0.5rem;\n  }\n  &-download {\n    font-size: 12px;\n    margin-left: 10px;\n    vertical-align: middle;\n  }\n  &-name {\n    display: block;\n    font-size: 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    word-break: break-word;\n  }\n  &-options {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n  }\n  &-preview {\n    padding: 0.5rem;\n    cursor: pointer;\n    min-height: 90px;\n    min-width: 150px;\n    text-align: center;\n    border-radius: 0.5rem;\n    margin-right: 1rem;\n    justify-content: center;\n    flex-direction: column;\n    display: flex;\n    align-items: center;\n    border: 1px solid $oxd-interface-gray-lighten-1-color;\n    background-color: $oxd-background-pastel-white-color;\n  }\n}\n\n::v-deep(.--label-right) {\n  flex-shrink: 0;\n  align-self: center;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}