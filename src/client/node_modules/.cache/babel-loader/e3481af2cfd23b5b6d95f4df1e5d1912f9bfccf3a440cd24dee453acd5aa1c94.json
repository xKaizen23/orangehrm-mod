{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"orangehrm-background-container\"\n};\nconst _hoisted_2 = {\n  class: \"orangehrm-paper-container\"\n};\nconst _hoisted_3 = {\n  class: \"orangehrm-card-container\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_oxd_divider = _resolveComponent(\"oxd-divider\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_grid_item = _resolveComponent(\"oxd-grid-item\");\n  const _component_oxd_grid = _resolveComponent(\"oxd-grid\");\n  const _component_oxd_form_row = _resolveComponent(\"oxd-form-row\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  const _component_claim_expenses = _resolveComponent(\"claim-expenses\");\n  const _component_claim_attachment = _resolveComponent(\"claim-attachment\");\n  const _component_claim_action_buttons = _resolveComponent(\"claim-action-buttons\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_oxd_text, {\n    tag: \"h6\",\n    class: \"orangehrm-main-title\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('claim.assign_claim')), 1)]),\n    _: 1\n  }), _createVNode(_component_oxd_divider), _createVNode(_component_oxd_form, {\n    loading: $data.isLoading\n  }, {\n    default: _withCtx(() => [_createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.employeeName,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.employeeName = $event),\n            label: _ctx.$t('general.employee'),\n            disabled: \"\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.request.referenceId,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.request.referenceId = $event),\n            label: _ctx.$t('claim.reference_id'),\n            disabled: \"\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $options.formattedEventName,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $options.formattedEventName = $event),\n            label: _ctx.$t('claim.event'),\n            disabled: \"\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        }), _createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.statusMap[$data.request.status],\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.statusMap[$data.request.status] = $event),\n            label: _ctx.$t('general.status'),\n            disabled: \"\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.currency.name,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.currency.name = $event),\n            label: _ctx.$t('general.currency'),\n            disabled: \"\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_oxd_form_row, null, {\n      default: _withCtx(() => [_createVNode(_component_oxd_grid, {\n        cols: 3,\n        class: \"orangehrm-full-width-grid\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_oxd_grid_item, null, {\n          default: _withCtx(() => [_createVNode(_component_oxd_input_field, {\n            modelValue: $data.request.remarks,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.request.remarks = $event),\n            label: _ctx.$t('claim.remarks'),\n            type: \"textarea\",\n            disabled: \"\"\n          }, null, 8, [\"modelValue\", \"label\"])]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"loading\"])]), _createVNode(_component_claim_expenses, {\n    \"request-id\": $props.id,\n    currency: $data.currency,\n    \"can-edit\": $options.canEdit\n  }, null, 8, [\"request-id\", \"currency\", \"can-edit\"]), _hoisted_4, _createVNode(_component_claim_attachment, {\n    \"request-id\": $props.id,\n    \"can-edit\": $options.canEdit,\n    \"allowed-file-types\": $props.allowedFileTypes,\n    \"max-file-size\": $props.maxFileSize\n  }, null, 8, [\"request-id\", \"can-edit\", \"allowed-file-types\", \"max-file-size\"]), _hoisted_5, _createVNode(_component_claim_action_buttons, {\n    \"request-id\": $props.id,\n    \"allowed-actions\": $data.allowedActions,\n    \"is-assigned\": true\n  }, null, 8, [\"request-id\", \"allowed-actions\"])])]);\n}","map":{"version":3,"mappings":";;EAoBOA,KAAK,EAAC;AAAgC;;EACpCA,KAAK,EAAC;AAA2B;;EAC/BA,KAAK,EAAC;AAA0B;gCAwErCC,oBAAM;gCAONA,oBAAM;;;;;;;;;;;;uBAjFVC,oBAwFM,OAxFNC,UAwFM,GAvFJF,oBAsFM,OAtFNG,UAsFM,GArFJH,oBAkEM,OAlENI,UAkEM,GAjEJC,aAEWC;IAFDC,GAAG,EAAC,IAAI;IAACR,KAAK,EAAC;;sBACvB,MAA8B,mCAA3BS,OAAE;;MAEPH,aAAeI,yBACfJ,aA4DWK;IA5DAC,OAAO,EAAEC;EAAS;sBAC3B,MAUe,CAVfP,aAUeQ;wBATb,MAQW,CARXR,aAQWS;QARAC,IAAI,EAAE,CAAC;QAAEhB,KAAK,EAAC;;0BACxB,MAMgB,CANhBM,aAMgBW;4BALd,MAIE,CAJFX,aAIEY;wBAHSL,kBAAY;uEAAZA,kBAAY;YACpBM,KAAK,EAAEV,OAAE;YACVW,QAAQ,EAAR;;;;;;;QAKRd,aAwBeQ;wBAvBb,MAsBW,CAtBXR,aAsBWS;QAtBAC,IAAI,EAAE,CAAC;QAAEhB,KAAK,EAAC;;0BACxB,MAMgB,CANhBM,aAMgBW;4BALd,MAIE,CAJFX,aAIEY;wBAHSL,aAAO,CAACQ,WAAW;uEAAnBR,aAAO,CAACQ,WAAW;YAC3BF,KAAK,EAAEV,OAAE;YACVW,QAAQ,EAAR;;;YAGJd,aAMgBW;4BALd,MAIE,CAJFX,aAIEY;wBAHSI,2BAAkB;uEAAlBA,2BAAkB;YAC1BH,KAAK,EAAEV,OAAE;YACVW,QAAQ,EAAR;;;YAGJd,aAMgBW;4BALd,MAIE,CAJFX,aAIEY;wBAHSL,eAAS,CAACA,aAAO,CAACU,MAAM;uEAAxBV,eAAS,CAACA,aAAO,CAACU,MAAM;YAChCJ,KAAK,EAAEV,OAAE;YACVW,QAAQ,EAAR;;;;;;;QAKRd,aAUeQ;wBATb,MAQW,CARXR,aAQWS;QARAC,IAAI,EAAE,CAAC;QAAEhB,KAAK,EAAC;;0BACxB,MAMgB,CANhBM,aAMgBW;4BALd,MAIE,CAJFX,aAIEY;wBAHSL,cAAQ,CAACW,IAAI;uEAAbX,cAAQ,CAACW,IAAI;YACrBL,KAAK,EAAEV,OAAE;YACVW,QAAQ,EAAR;;;;;;;QAKRd,aAWeQ;wBAVb,MASW,CATXR,aASWS;QATAC,IAAI,EAAE,CAAC;QAAEhB,KAAK,EAAC;;0BACxB,MAOgB,CAPhBM,aAOgBW;4BANd,MAKE,CALFX,aAKEY;wBAJSL,aAAO,CAACY,OAAO;uEAAfZ,aAAO,CAACY,OAAO;YACvBN,KAAK,EAAEV,OAAE;YACViB,IAAI,EAAC,UAAU;YACfN,QAAQ,EAAR;;;;;;;;;wBAOZd,aAIkBqB;IAHf,YAAU,EAAEC,SAAE;IACdC,QAAQ,EAAEhB,cAAQ;IAClB,UAAQ,EAAES;uDAEbQ,UAAM,EACNxB,aAKoByB;IAJjB,YAAU,EAAEH,SAAE;IACd,UAAQ,EAAEN,gBAAO;IACjB,oBAAkB,EAAEM,uBAAgB;IACpC,eAAa,EAAEA;kFAElBI,UAAM,EACN1B,aAIE2B;IAHC,YAAU,EAAEL,SAAE;IACd,iBAAe,EAAEf,oBAAc;IAC/B,aAAW,EAAE","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_oxd_text","tag","_ctx","_component_oxd_divider","_component_oxd_form","loading","$data","_component_oxd_form_row","_component_oxd_grid","cols","_component_oxd_grid_item","_component_oxd_input_field","label","disabled","referenceId","$options","status","name","remarks","type","_component_claim_expenses","$props","currency","_hoisted_4","_component_claim_attachment","_hoisted_5","_component_claim_action_buttons"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmClaimPlugin\\pages\\assignClaim\\AssignClaim.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"orangehrm-background-container\">\n    <div class=\"orangehrm-paper-container\">\n      <div class=\"orangehrm-card-container\">\n        <oxd-text tag=\"h6\" class=\"orangehrm-main-title\">\n          {{ $t('claim.assign_claim') }}\n        </oxd-text>\n        <oxd-divider />\n        <oxd-form :loading=\"isLoading\">\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"employeeName\"\n                  :label=\"$t('general.employee')\"\n                  disabled\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"request.referenceId\"\n                  :label=\"$t('claim.reference_id')\"\n                  disabled\n                />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"formattedEventName\"\n                  :label=\"$t('claim.event')\"\n                  disabled\n                />\n              </oxd-grid-item>\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"statusMap[request.status]\"\n                  :label=\"$t('general.status')\"\n                  disabled\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"currency.name\"\n                  :label=\"$t('general.currency')\"\n                  disabled\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n          <oxd-form-row>\n            <oxd-grid :cols=\"3\" class=\"orangehrm-full-width-grid\">\n              <oxd-grid-item>\n                <oxd-input-field\n                  v-model=\"request.remarks\"\n                  :label=\"$t('claim.remarks')\"\n                  type=\"textarea\"\n                  disabled\n                />\n              </oxd-grid-item>\n            </oxd-grid>\n          </oxd-form-row>\n        </oxd-form>\n      </div>\n      <claim-expenses\n        :request-id=\"id\"\n        :currency=\"currency\"\n        :can-edit=\"canEdit\"\n      ></claim-expenses>\n      <br />\n      <claim-attachment\n        :request-id=\"id\"\n        :can-edit=\"canEdit\"\n        :allowed-file-types=\"allowedFileTypes\"\n        :max-file-size=\"maxFileSize\"\n      ></claim-attachment>\n      <br />\n      <claim-action-buttons\n        :request-id=\"id\"\n        :allowed-actions=\"allowedActions\"\n        :is-assigned=\"true\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport {APIService} from '@/core/util/services/api.service';\nimport {navigate} from '@ohrm/core/util/helper/navigation';\nimport ClaimAttachment from '@/orangehrmClaimPlugin/components/ClaimAttachment.vue';\nimport ClaimExpenses from '@/orangehrmClaimPlugin/components/ClaimExpenses.vue';\nimport ClaimActionButtons from '@/orangehrmClaimPlugin/components/ClaimActionButtons.vue';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\n\nexport default {\n  name: 'AssignClaim',\n\n  components: {\n    'claim-attachment': ClaimAttachment,\n    'claim-expenses': ClaimExpenses,\n    'claim-action-buttons': ClaimActionButtons,\n  },\n\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n    allowedFileTypes: {\n      type: Array,\n      required: true,\n    },\n    maxFileSize: {\n      type: Number,\n      required: true,\n    },\n    empNumber: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  setup(props) {\n    const http = new APIService(\n      window.appGlobal.baseUrl,\n      `/api/v2/claim/employees/${props.empNumber}/requests`,\n    );\n\n    return {\n      http,\n    };\n  },\n\n  data() {\n    const statusMap = {\n      SUBMITTED: this.$t('time.submitted'),\n      APPROVED: this.$t('time.approved'),\n      REJECTED: this.$t('leave.rejected'),\n      CANCELLED: this.$t('leave.cancelled'),\n      PAID: this.$t('claim.paid'),\n      INITIATED: this.$t('claim.initiated'),\n    };\n    return {\n      isLoading: false,\n      request: {},\n      claimEvent: {},\n      currency: {},\n      response: {},\n      allowedActions: [],\n      employee: {},\n      statusMap,\n      employeeName: '',\n    };\n  },\n\n  computed: {\n    canEdit() {\n      if (this.allowedActions) {\n        return this.allowedActions.includes('Submit');\n      }\n      return false;\n    },\n    formattedEventName() {\n      return this.claimEvent.isDeleted\n        ? `${this.claimEvent.name} ${this.$t('general.deleted')}`\n        : !this.claimEvent.status\n        ? `${this.claimEvent.name} (${this.$t('performance.inactive')})`\n        : this.claimEvent.name;\n    },\n  },\n\n  beforeMount() {\n    const {$tEmpName} = useEmployeeNameTranslate();\n    this.isLoading = true;\n    this.http\n      .get(this.id)\n      .then((res) => {\n        const {data, meta} = res.data;\n        this.response = res.data;\n        this.request = data;\n        this.claimEvent = data.claimEvent;\n        this.currency = data.currencyType;\n        this.allowedActions = meta.allowedActions.map((action) => action.name);\n        this.employee = meta.employee;\n        this.employeeName = $tEmpName(this.employee);\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  },\n\n  methods: {\n    onCancel() {\n      navigate('/claim/submitClaim');\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}