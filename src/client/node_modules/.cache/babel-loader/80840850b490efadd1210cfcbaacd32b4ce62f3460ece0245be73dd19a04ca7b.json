{"ast":null,"code":"import { computed, onBeforeUnmount, reactive, toRefs } from 'vue';\nexport default {\n  name: 'PhotoViewer',\n  props: {\n    post: {\n      type: Object,\n      required: true\n    },\n    photoIndex: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: ['close'],\n  setup(props, context) {\n    const state = reactive({\n      index: props.photoIndex\n    });\n    const onClickNextPhoto = () => state.index++;\n    const onClickPreviousPhoto = () => state.index--;\n    const selectedPhoto = computed(() => {\n      const photo = props.post.photoIds[state.index];\n      return `${window.appGlobal.baseUrl}/buzz/photo/${photo}`;\n    });\n    const onClickClose = $event => {\n      if ($event.key && $event.key !== 'Escape') return;\n      context.emit('close');\n    };\n    window.addEventListener('keydown', onClickClose);\n    onBeforeUnmount(() => window.removeEventListener('keydown', onClickClose));\n    return {\n      onClickClose,\n      selectedPhoto,\n      onClickNextPhoto,\n      onClickPreviousPhoto,\n      ...toRefs(state)\n    };\n  }\n};","map":{"version":3,"mappings":"AA6DA,SAAQA,QAAQ,EAAEC,eAAe,EAAEC,QAAQ,EAAEC,MAAM,QAAO,KAAK;AAE/D,eAAe;EACbC,IAAI,EAAE,aAAa;EAEnBC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,UAAU,EAAE;MACVH,IAAI,EAAEI,MAAM;MACZF,QAAQ,EAAE;IACZ;EACF,CAAC;EAEDG,KAAK,EAAE,CAAC,OAAO,CAAC;EAEhBC,KAAK,CAACR,KAAK,EAAES,OAAO,EAAE;IACpB,MAAMC,KAAI,GAAIb,QAAQ,CAAC;MACrBc,KAAK,EAAEX,KAAK,CAACK;IACf,CAAC,CAAC;IAEF,MAAMO,gBAAe,GAAI,MAAMF,KAAK,CAACC,KAAK,EAAE;IAE5C,MAAME,oBAAmB,GAAI,MAAMH,KAAK,CAACC,KAAK,EAAE;IAEhD,MAAMG,aAAY,GAAInB,QAAQ,CAAC,MAAM;MACnC,MAAMoB,KAAI,GAAIf,KAAK,CAACC,IAAI,CAACe,QAAQ,CAACN,KAAK,CAACC,KAAK,CAAC;MAC9C,OAAQ,GAAEM,MAAM,CAACC,SAAS,CAACC,OAAQ,eAAcJ,KAAM,EAAC;IAC1D,CAAC,CAAC;IAEF,MAAMK,YAAW,GAAKC,MAAM,IAAK;MAC/B,IAAIA,MAAM,CAACC,GAAE,IAAKD,MAAM,CAACC,GAAE,KAAM,QAAQ,EAAE;MAC3Cb,OAAO,CAACc,IAAI,CAAC,OAAO,CAAC;IACvB,CAAC;IAEDN,MAAM,CAACO,gBAAgB,CAAC,SAAS,EAAEJ,YAAY,CAAC;IAEhDxB,eAAe,CAAC,MAAMqB,MAAM,CAACQ,mBAAmB,CAAC,SAAS,EAAEL,YAAY,CAAC,CAAC;IAE1E,OAAO;MACLA,YAAY;MACZN,aAAa;MACbF,gBAAgB;MAChBC,oBAAoB;MACpB,GAAGf,MAAM,CAACY,KAAK;IACjB,CAAC;EACH;AACF,CAAC","names":["computed","onBeforeUnmount","reactive","toRefs","name","props","post","type","Object","required","photoIndex","Number","emits","setup","context","state","index","onClickNextPhoto","onClickPreviousPhoto","selectedPhoto","photo","photoIds","window","appGlobal","baseUrl","onClickClose","$event","key","emit","addEventListener","removeEventListener"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmBuzzPlugin\\components\\PhotoViewer.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div class=\"orangehrm-photo-viewer\">\n    <img\n      class=\"orangehrm-photo-viewer-background\"\n      alt=\"photo\"\n      :src=\"selectedPhoto\"\n    />\n    <img\n      class=\"orangehrm-photo-viewer-photo\"\n      alt=\"background\"\n      :src=\"selectedPhoto\"\n    />\n    <div\n      v-if=\"post.photoIds.length > 1\"\n      class=\"orangehrm-photo-viewer-controls\"\n    >\n      <oxd-icon-button\n        class=\"orangehrm-photo-viewer-icon actions\"\n        name=\"chevron-left\"\n        :disabled=\"index === 0\"\n        @click=\"onClickPreviousPhoto\"\n      />\n      <oxd-icon-button\n        class=\"orangehrm-photo-viewer-icon actions\"\n        name=\"chevron-right\"\n        :disabled=\"index === post.photoIds.length - 1\"\n        @click=\"onClickNextPhoto\"\n      />\n    </div>\n    <div class=\"orangehrm-photo-viewer-actions\">\n      <slot></slot>\n    </div>\n\n    <oxd-icon-button\n      class=\"orangehrm-photo-viewer-close actions\"\n      name=\"x\"\n      @click=\"onClickClose\"\n    />\n  </div>\n</template>\n\n<script>\nimport {computed, onBeforeUnmount, reactive, toRefs} from 'vue';\n\nexport default {\n  name: 'PhotoViewer',\n\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n    photoIndex: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  emits: ['close'],\n\n  setup(props, context) {\n    const state = reactive({\n      index: props.photoIndex,\n    });\n\n    const onClickNextPhoto = () => state.index++;\n\n    const onClickPreviousPhoto = () => state.index--;\n\n    const selectedPhoto = computed(() => {\n      const photo = props.post.photoIds[state.index];\n      return `${window.appGlobal.baseUrl}/buzz/photo/${photo}`;\n    });\n\n    const onClickClose = ($event) => {\n      if ($event.key && $event.key !== 'Escape') return;\n      context.emit('close');\n    };\n\n    window.addEventListener('keydown', onClickClose);\n\n    onBeforeUnmount(() => window.removeEventListener('keydown', onClickClose));\n\n    return {\n      onClickClose,\n      selectedPhoto,\n      onClickNextPhoto,\n      onClickPreviousPhoto,\n      ...toRefs(state),\n    };\n  },\n};\n</script>\n\n<style src=\"./photo-viewer.scss\" lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}