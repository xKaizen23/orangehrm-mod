{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a5b1f8a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"orangehrm-buzz-stats\"\n};\nconst _hoisted_2 = {\n  class: \"orangehrm-buzz-stats-row\"\n};\nconst _hoisted_3 = {\n  class: \"orangehrm-buzz-stats-row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_icon = _resolveComponent(\"oxd-icon\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_post_stats_modal = _resolveComponent(\"post-stats-modal\");\n  const _directive_click_outside = _resolveDirective(\"click-outside\");\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_oxd_icon, {\n    name: \"heart-fill\",\n    class: \"orangehrm-buzz-stats-like-icon\"\n  }), _createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: _normalizeClass($options.likesClasses),\n    onClick: $options.onShowLikeList\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($options.likesCount), 1)]),\n    _: 1\n  }, 8, [\"class\", \"onClick\"]), $data.showLikeList ? (_openBlock(), _createBlock(_component_post_stats_modal, {\n    key: 0,\n    type: \"likes\",\n    icon: \"heart-fill\",\n    mobile: $props.mobile,\n    \"post-id\": $props.post.id,\n    onClose: $options.onClose\n  }, null, 8, [\"mobile\", \"post-id\", \"onClose\"])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: \"orangehrm-buzz-stats-active\",\n    onClick: $options.onShowComments\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($options.commentsCount), 1)]),\n    _: 1\n  }, 8, [\"onClick\"]), $options.sharesCount ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createTextVNode(\" ‚  \"), _createVNode(_component_oxd_text, {\n    tag: \"p\",\n    class: _normalizeClass($options.sharesClasses),\n    onClick: $options.onShowSharesList\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($options.sharesCount), 1)]),\n    _: 1\n  }, 8, [\"class\", \"onClick\"])], 64)) : _createCommentVNode(\"\", true), $data.showSharesList ? (_openBlock(), _createBlock(_component_post_stats_modal, {\n    key: 1,\n    type: \"shares\",\n    icon: \"share-fill\",\n    mobile: $props.mobile,\n    \"post-id\": $props.post.post.id,\n    onClose: $options.onClose\n  }, null, 8, [\"mobile\", \"post-id\", \"onClose\"])) : _createCommentVNode(\"\", true)])])), [[_directive_click_outside, $options.onClose]]);\n}","map":{"version":3,"mappings":";;;EAoBiCA,KAAK,EAAC;AAAsB;;EACpDA,KAAK,EAAC;AAA0B;;EAiBhCA,KAAK,EAAC;AAA0B;;;;;;wCAlBvCC,oBAyCM,OAzCNC,UAyCM,GAxCJC,oBAgBM,OAhBNC,UAgBM,GAfJC,aAGYC;IAFVC,IAAI,EAAC,YAAY;IACjBP,KAAK,EAAC;MAERK,aAEWG;IAFDC,GAAG,EAAC,GAAG;IAAET,KAAK,kBAAEU,qBAAY;IAAGC,OAAK,EAAED;;sBAC9C,MAAgB,mCAAbA,mBAAU;;+BAGPE,kBAAY,kBADpBC,aAOoBC;;IALlBC,IAAI,EAAC,OAAO;IACZC,IAAI,EAAC,YAAY;IAChBC,MAAM,EAAEC,aAAM;IACd,SAAO,EAAEA,WAAI,CAACC,EAAE;IAChBC,OAAK,EAAEV;oFAGZP,oBAsBM,OAtBNkB,UAsBM,GArBJhB,aAMWG;IALTC,GAAG,EAAC,GAAG;IACPT,KAAK,EAAC,6BAA6B;IAClCW,OAAK,EAAED;;sBAER,MAAmB,mCAAhBA,sBAAa;;sBAEFA,oBAAW,kBAA3BT,oBAKWqB;IAAAC;EAAA,qBALkB,MAE3B,gBAEWf;IAFDC,GAAG,EAAC,GAAG;IAAET,KAAK,kBAAEU,sBAAa;IAAGC,OAAK,EAAED;;sBAC/C,MAAiB,mCAAdA,oBAAW;;sEAIVE,oBAAc,kBADtBC,aAOoBC;;IALlBC,IAAI,EAAC,QAAQ;IACbC,IAAI,EAAC,YAAY;IAChBC,MAAM,EAAEC,aAAM;IACd,SAAO,EAAEA,WAAI,CAACM,IAAI,CAACL,EAAE;IACrBC,OAAK,EAAEV;mHAtCQA,gBAAO","names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_oxd_icon","name","_component_oxd_text","tag","$options","onClick","$data","_createBlock","_component_post_stats_modal","type","icon","mobile","$props","id","onClose","_hoisted_3","_Fragment","key","post"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\orangehrm-5.7\\src\\client\\src\\orangehrmBuzzPlugin\\components\\PostStats.vue"],"sourcesContent":["<!--\n/**\n * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures\n * all the essential functionalities required for any enterprise.\n * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com\n *\n * OrangeHRM is free software: you can redistribute it and/or modify it under the terms of\n * the GNU General Public License as published by the Free Software Foundation, either\n * version 3 of the License, or (at your option) any later version.\n *\n * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with OrangeHRM.\n * If not, see <https://www.gnu.org/licenses/>.\n */\n -->\n\n<template>\n  <div v-click-outside=\"onClose\" class=\"orangehrm-buzz-stats\">\n    <div class=\"orangehrm-buzz-stats-row\">\n      <oxd-icon\n        name=\"heart-fill\"\n        class=\"orangehrm-buzz-stats-like-icon\"\n      ></oxd-icon>\n      <oxd-text tag=\"p\" :class=\"likesClasses\" @click=\"onShowLikeList\">\n        {{ likesCount }}\n      </oxd-text>\n      <post-stats-modal\n        v-if=\"showLikeList\"\n        type=\"likes\"\n        icon=\"heart-fill\"\n        :mobile=\"mobile\"\n        :post-id=\"post.id\"\n        @close=\"onClose\"\n      ></post-stats-modal>\n    </div>\n    <div class=\"orangehrm-buzz-stats-row\">\n      <oxd-text\n        tag=\"p\"\n        class=\"orangehrm-buzz-stats-active\"\n        @click=\"onShowComments\"\n      >\n        {{ commentsCount }}\n      </oxd-text>\n      <template v-if=\"sharesCount\">\n        &sbquo;&nbsp;\n        <oxd-text tag=\"p\" :class=\"sharesClasses\" @click=\"onShowSharesList\">\n          {{ sharesCount }}\n        </oxd-text>\n      </template>\n      <post-stats-modal\n        v-if=\"showSharesList\"\n        type=\"shares\"\n        icon=\"share-fill\"\n        :mobile=\"mobile\"\n        :post-id=\"post.post.id\"\n        @close=\"onClose\"\n      ></post-stats-modal>\n    </div>\n  </div>\n</template>\n<script>\nimport PostStatsModal from '@/orangehrmBuzzPlugin/components/PostStatsModal.vue';\nimport {clickOutsideDirective, OxdIcon} from '@ohrm/oxd';\n\nexport default {\n  name: 'PostStats',\n\n  components: {\n    'oxd-icon': OxdIcon,\n    'post-stats-modal': PostStatsModal,\n  },\n\n  directives: {\n    'click-outside': clickOutsideDirective,\n  },\n\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n    mobile: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  emits: ['comment'],\n\n  data() {\n    return {\n      showLikeList: false,\n      showSharesList: false,\n    };\n  },\n\n  computed: {\n    likesCount() {\n      return this.$t('buzz.n_like', {\n        likesCount: this.post.stats?.numOfLikes || 0,\n      });\n    },\n    sharesCount() {\n      if (this.post.stats?.numOfShares === null) return null;\n      return this.$t('buzz.n_share', {\n        shareCount: this.post.stats?.numOfShares || 0,\n      });\n    },\n    commentsCount() {\n      return this.$t('buzz.n_comment', {\n        commentCount: this.post.stats?.numOfComments || 0,\n      });\n    },\n    likesClasses() {\n      return {\n        'orangehrm-buzz-stats-active': this.post.stats?.numOfLikes > 0,\n      };\n    },\n    sharesClasses() {\n      return {\n        'orangehrm-buzz-stats-active': this.post.stats?.numOfShares > 0,\n      };\n    },\n  },\n\n  methods: {\n    onShowComments() {\n      this.$emit('comment');\n    },\n    onShowLikeList() {\n      this.showSharesList = false;\n      if (!this.post.stats?.numOfLikes) return;\n      this.showLikeList = true;\n    },\n    onShowSharesList() {\n      this.showLikeList = false;\n      if (!this.post.stats?.numOfShares) return;\n      this.showSharesList = true;\n    },\n    onClose() {\n      this.showLikeList = false;\n      this.showSharesList = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" src=\"./post-stats.scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}